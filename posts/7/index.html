
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My code works, I don&#8217;t know why.</title>
  <meta name="author" content="Wen Liao">
  <meta property="og:image" content="https://wen00072.github.io/files/pb.jpg" />


  
  <meta name="description" content="整理一下，反正一定會忘記，就放在這邊，也許以後會再新增 gcc &ndash;save-temp hello.c gcc中間產生的檔案通通存起來 gcc -dumpspecs 印spec，不過我完全看不懂 gcc -dumpmachine 印出平台 其他關於巨集部份請參考這邊和這邊，很臭很長，抱歉 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://wen00072.github.io/posts/7/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My code works, I don't know why." type="application/atom+xml">
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My code works, I don&#8217;t know why.</a></h1>
  
    <h2>國王的耳朵是驢耳朵</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="wen00072.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/categories">Categories</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/20/several-gcc-parameter-notes/">Gcc的幾個參數筆記</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-20T14:34:00+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>2:34 pm</span></time>
        
           | <a href="/blog/2015/02/20/several-gcc-parameter-notes/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/02/20/several-gcc-parameter-notes/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>整理一下，反正一定會忘記，就放在這邊，也許以後會再新增</p>

<ul>
<li>gcc &ndash;save-temp hello.c

<ul>
<li>gcc中間產生的檔案通通存起來</li>
</ul>
</li>
<li>gcc -dumpspecs

<ul>
<li>印spec，<font color="red">不過我完全看不懂</font></li>
</ul>
</li>
<li>gcc -dumpmachine

<ul>
<li>印出平台</li>
</ul>
</li>
</ul>


<p>其他關於巨集部份請參考<a href="http://wen00072.github.io/blog/2013/10/13/talk-about-c-macros">這邊</a>和<a href="http://wen00072.github.io/blog/2014/03/06/makefile-header-file-dependency-issues">這邊</a>，很臭很長，抱歉。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/19/ssh-to-login-to-the-remote-host-automatically-sets-the-x-display-variable/">ssh登入遠端主機自動設定X Display 變數</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-19T15:09:00+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>3:09 pm</span></time>
        
           | <a href="/blog/2015/02/19/ssh-to-login-to-the-remote-host-automatically-sets-the-x-display-variable/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/02/19/ssh-to-login-to-the-remote-host-automatically-sets-the-x-display-variable/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>前言</h2>

<hr />

<p>因為用X用習慣了，常常會連線到另外遠端電腦，然後透過X把該台電腦軟體畫面輸出到本機。這時候的標準流程會是</p>

<ul>
<li>ssh登入到遠端</li>
<li>export DISPLAY=你的本機IP:0.0</li>
</ul>


<p>每次都要打這些，還要查自己本機IP很煩。所以整理了兩光的script提供以後剪下貼上。</p>

<p>另外有人會問為什麼不直接用<code>ssh -X</code>連過去？原因是因為我習慣設完display後，開一個遠端終端機丟在背景然後登出目前的ssh session，這樣的操作在<code>ssh -X</code>下從來沒有成功過。我了遠端終端機後就算放在背景，一樣目前終端機會卡住。如果暴力把目前終端機關掉，那麼所有X的session都GG。實在懶得找原因，反正這是個workaround的世界（煙）。</p>

<h2>背景說明</h2>

<hr />

<p>上面操作中，本機需要設定</p>

<ul>
<li>X allow TCP</li>
<li>xhost 加入允許連進來的IP</li>
</ul>


<p>這兩個部份請自行估狗。</p>

<p>另外本機和遠端主機用相同的Distribution資訊如下，測試端的遠端主機是一台沒有GUI的Ubuntu server。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ lsb_release -a
</span><span class='line'>No LSB modules are available.
</span><span class='line'>Distributor ID:   Ubuntu
</span><span class='line'>Description:  Ubuntu 14.04.2 LTS
</span><span class='line'>Release:  14.04
</span><span class='line'>Codename: trusty</span></code></pre></td></tr></table></div></figure>


<h2>使用方式</h2>

<hr />

<p>把下面的描述放在<code>~/.profile</code>最後面，下次ssh登入後就可以直接開啟X應用程式把畫面丟回本機了。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># Let&#39;s export DISPLAY if we are from ssh remote</span>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$TERM&quot;</span> <span class="o">=</span> <span class="s2">&quot;xterm&quot;</span> -a -n <span class="s2">&quot;$SSH_CLIENT&quot;</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
</span><span class='line'>    <span class="nv">REMOTE_IP</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$SSH_CLIENT</span> <span class="p">|</span> cut -f <span class="m">1</span> -d <span class="s2">&quot; &quot;</span><span class="k">)</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">[</span> -z <span class="s2">&quot;$REMOTE_IP&quot;</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
</span><span class='line'>        <span class="nb">exit </span>0
</span><span class='line'>    <span class="k">fi</span>
</span><span class='line'>
</span><span class='line'>    <span class="nb">export </span><span class="nv">DISPLAY</span><span class="o">=</span><span class="nv">$REMOTE_IP</span>:0.0
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/14/main-linux-whos-going-to-call-in-c-language/">Linux中誰來呼叫C語言中的main?</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-14T15:56:00+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>3:56 pm</span></time>
        
           | <a href="/blog/2015/02/14/main-linux-whos-going-to-call-in-c-language/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/02/14/main-linux-whos-going-to-call-in-c-language/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>記得很久以前聽說在Linux執行檔案時，真正的起始點並不是main，加上<a href="http://wen00072.github.io/blog/2014/03/14/study-on-the-gnu-ld">之前</a>有看到單純ld會幫你偷偷link一些沒看過的object檔案，所以這次就來看到底真相為何？</p>

<h2>測試環境</h2>

<p>因為<del>很假掰</del>想要順便接觸一下ARM的組語，所以這次測試就使用Qemu跑ARM的Debian。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ lsb_release -a
</span><span class='line'>No LSB modules are available.
</span><span class='line'>Distributor ID:   Debian
</span><span class='line'>Description:  Debian GNU/Linux 8.0 (jessie)
</span><span class='line'>Release:  8.0
</span><span class='line'>Codename: jessie
</span><span class='line'>
</span><span class='line'>$ file /bin/ls
</span><span class='line'>/bin/ls: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=571db48d9c9e4625b7da206e748e41c237f2b202, stripped</span></code></pre></td></tr></table></div></figure>


<h2>測試原始碼，一樣是大家熟悉的Hellow world</h2>

<figure class='code'><figcaption><span>hello1.c</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello World</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>不知道各位還記得前面有提過，執行檔中有<code>.text</code>的section。要執行的機械碼會放在這邊。我們先來看看hello1執行檔會從那邊開始？</p>

<figure class='code'><figcaption><span>hello1.c</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="err">$</span> <span class="n">readelf</span> <span class="o">-</span><span class="n">h</span> <span class="n">hello1</span>
</span><span class='line'><span class="n">ELF</span> <span class="nl">Header</span><span class="p">:</span>
</span><span class='line'>  <span class="nl">Magic</span><span class="p">:</span>   <span class="mf">7f</span> <span class="mi">45</span> <span class="mi">4</span><span class="n">c</span> <span class="mi">46</span> <span class="mo">01</span> <span class="mo">01</span> <span class="mo">01</span> <span class="mo">00</span> <span class="mo">00</span> <span class="mo">00</span> <span class="mo">00</span> <span class="mo">00</span> <span class="mo">00</span> <span class="mo">00</span> <span class="mo">00</span> <span class="mo">00</span>
</span><span class='line'>  <span class="nl">Class</span><span class="p">:</span>                             <span class="n">ELF32</span>
</span><span class='line'>  <span class="nl">Data</span><span class="p">:</span>                              <span class="mi">2</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">complement</span><span class="p">,</span> <span class="n">little</span> <span class="n">endian</span>
</span><span class='line'>  <span class="nl">Version</span><span class="p">:</span>                           <span class="mi">1</span> <span class="p">(</span><span class="n">current</span><span class="p">)</span>
</span><span class='line'>  <span class="n">OS</span><span class="o">/</span><span class="nl">ABI</span><span class="p">:</span>                            <span class="n">UNIX</span> <span class="o">-</span> <span class="n">System</span> <span class="n">V</span>
</span><span class='line'>  <span class="n">ABI</span> <span class="nl">Version</span><span class="p">:</span>                       <span class="mi">0</span>
</span><span class='line'>  <span class="nl">Type</span><span class="p">:</span>                              <span class="n">EXEC</span> <span class="p">(</span><span class="n">Executable</span> <span class="n">file</span><span class="p">)</span>
</span><span class='line'>  <span class="nl">Machine</span><span class="p">:</span>                           <span class="n">ARM</span>
</span><span class='line'>  <span class="nl">Version</span><span class="p">:</span>                           <span class="mh">0x1</span>
</span><span class='line'>  <span class="n">Entry</span> <span class="n">point</span> <span class="nl">address</span><span class="p">:</span>               <span class="mh">0x102f0</span>
</span><span class='line'>  <span class="n">Start</span> <span class="n">of</span> <span class="n">program</span> <span class="nl">headers</span><span class="p">:</span>          <span class="mi">52</span> <span class="p">(</span><span class="n">bytes</span> <span class="n">into</span> <span class="n">file</span><span class="p">)</span>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="n">Section</span> <span class="n">header</span> <span class="n">string</span> <span class="n">table</span> <span class="nl">index</span><span class="p">:</span> <span class="mi">33</span>
</span></code></pre></td></tr></table></div></figure>


<p>從readelf可以看到起始點為0x102f0，那麼0x102f0是在那邊呢？我們再去看symbol table可以看到很巧的就是<code>.text</code>的起始點。</p>

<figure class='code'><figcaption><span>hello1.c</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="err">$</span> <span class="n">objdump</span> <span class="o">-</span><span class="n">t</span> <span class="n">hello1</span>
</span><span class='line'>
</span><span class='line'><span class="nl">hello1</span><span class="p">:</span>     <span class="n">file</span> <span class="n">format</span> <span class="n">elf32</span><span class="o">-</span><span class="n">littlearm</span>
</span><span class='line'>
</span><span class='line'><span class="n">SYMBOL</span> <span class="nl">TABLE</span><span class="p">:</span>
</span><span class='line'><span class="mo">00010134</span> <span class="n">l</span>    <span class="n">d</span>  <span class="p">.</span><span class="n">interp</span>  <span class="mo">00000000</span>              <span class="p">.</span><span class="n">interp</span>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="mf">000102f</span><span class="mi">0</span> <span class="n">l</span>    <span class="n">d</span>  <span class="p">.</span><span class="n">text</span>    <span class="mo">00000000</span>              <span class="p">.</span><span class="n">text</span>
</span></code></pre></td></tr></table></div></figure>


<p>好了，那麼<code>.text</code>這邊起始的程式是什麼？</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='asm'><span class='line'><span class="nf">Disassembly</span> <span class="no">of</span> <span class="no">section</span> <span class="no">.text</span><span class="p">:</span>
</span><span class='line'>
</span><span class='line'><span class="err">000102</span><span class="nf">f0</span> <span class="err">&lt;</span><span class="no">_start</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">f0:</span>       <span class="nf">e3a0b000</span>        <span class="no">mov</span>     <span class="no">fp</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">f4:</span>       <span class="nf">e3a0e000</span>        <span class="no">mov</span>     <span class="no">lr</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">f8:</span>       <span class="nf">e49d1004</span>        <span class="no">pop</span>     <span class="err">{</span><span class="no">r1</span><span class="err">}</span>            <span class="err">;</span> <span class="p">(</span><span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="err">]</span><span class="p">,</span> <span class="c">#4)</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">fc:</span>       <span class="nf">e1a0200d</span>        <span class="no">mov</span>     <span class="no">r2</span><span class="p">,</span> <span class="no">sp</span>
</span><span class='line'>   <span class="err">10300:</span>       <span class="nf">e52d2004</span>        <span class="no">push</span>    <span class="err">{</span><span class="no">r2</span><span class="err">}</span>            <span class="err">;</span> <span class="p">(</span><span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="p">,</span> <span class="c">#-4]!)</span>
</span><span class='line'>   <span class="err">10304:</span>       <span class="nf">e52d0004</span>        <span class="no">push</span>    <span class="err">{</span><span class="no">r0</span><span class="err">}</span>            <span class="err">;</span> <span class="p">(</span><span class="no">str</span> <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="p">,</span> <span class="c">#-4]!)</span>
</span><span class='line'>   <span class="err">10308:</span>       <span class="nf">e59fc010</span>        <span class="no">ldr</span>     <span class="no">ip</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#16]   ; 10320 &lt;_start+0x30&gt;</span>
</span><span class='line'>   <span class="err">1030</span><span class="nl">c:</span>       <span class="nf">e52dc004</span>        <span class="no">push</span>    <span class="err">{</span><span class="no">ip</span><span class="err">}</span>            <span class="err">;</span> <span class="p">(</span><span class="no">str</span> <span class="no">ip</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="p">,</span> <span class="c">#-4]!)</span>
</span><span class='line'>   <span class="err">10310:</span>       <span class="nf">e59f000c</span>        <span class="no">ldr</span>     <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#12]   ; 10324 &lt;_start+0x34&gt;</span>
</span><span class='line'>   <span class="err">10314:</span>       <span class="nf">e59f300c</span>        <span class="no">ldr</span>     <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#12]   ; 10328 &lt;_start+0x38&gt;</span>
</span><span class='line'>   <span class="err">10318:</span>       <span class="nf">ebffffeb</span>        <span class="no">bl</span>      <span class="mh">102cc</span> <span class="p">&lt;</span><span class="no">__libc_start_main@plt</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">1031</span><span class="nl">c:</span>       <span class="nf">ebfffff0</span>        <span class="no">bl</span>      <span class="mh">102e4</span> <span class="p">&lt;</span><span class="no">abort@plt</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10320:</span>       <span class="err">000104</span><span class="nf">b4</span>        <span class="no">.word</span>   <span class="mi">0x000104b4</span>
</span><span class='line'>   <span class="err">10324:</span>       <span class="err">00010420</span>        <span class="na">.word</span>   <span class="mi">0x00010420</span>
</span><span class='line'>   <span class="err">10328:</span>       <span class="err">00010448</span>        <span class="na">.word</span>   <span class="mi">0x00010448</span>
</span></code></pre></td></tr></table></div></figure>


<p>很有趣，沒看到<code>main()</code>，反而看到<code>_start</code>。到底是<code>_start</code>是什麼呢？還記得Linker script嗎？裏面有一個<code>ENTRY</code>指令，可以指定程式從那邊開始跑，先來看一下預設的<code>ENTRY</code>是不是也是<code>_start</code>?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='asm'><span class='line'><span class="nf">$</span> <span class="no">ld</span> <span class="p">--</span><span class="no">verbose</span> <span class="err">|</span> <span class="no">grep</span> <span class="no">ENTRY</span>
</span><span class='line'><span class="nf">ENTRY</span><span class="p">(</span><span class="no">_start</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>目前我們只知道執行檔起始點是<code>_start</code>，而不是<code>main</code>，那顯然有人幫你把執行檔加碼，以至於你的執行檔出現了<code>_start</code>。最偷懶的方式就是去找binary看看是不是有這樣的symbol。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='asm'><span class='line'><span class="nl">user@host:</span><span class="err">/</span><span class="nf">usr</span><span class="err">/</span><span class="no">lib$</span> <span class="no">find</span> <span class="p">-</span><span class="no">name</span> <span class="err">&quot;</span><span class="p">*.</span><span class="err">[</span><span class="no">ao</span><span class="err">]&quot;</span> <span class="p">-</span><span class="no">exec</span> <span class="no">nm</span> <span class="p">-</span><span class="no">A</span> <span class="err">{}</span> <span class="err">\;</span>  <span class="mi">2</span><span class="err">&gt;</span> <span class="err">/</span><span class="no">dev</span><span class="err">/</span><span class="no">null</span> <span class="err">|</span> <span class="no">grep</span> <span class="err">&quot;</span> <span class="no">_start$</span><span class="err">&quot;</span>
</span><span class='line'><span class="err">./</span><span class="nf">arm-linux-gnueabi</span><span class="err">/</span><span class="no">crt1.o</span><span class="p">:</span><span class="mi">00000000</span> <span class="no">T</span> <span class="no">_start</span>
</span><span class='line'><span class="err">./</span><span class="nf">arm-linux-gnueabi</span><span class="err">/</span><span class="no">gcrt1.o</span><span class="p">:</span><span class="mi">00000000</span> <span class="no">T</span> <span class="no">_start</span>
</span><span class='line'><span class="err">./</span><span class="nf">arm-linux-gnueabi</span><span class="err">/</span><span class="no">Scrt1.o</span><span class="p">:</span><span class="mi">00000000</span> <span class="no">T</span> <span class="no">_start</span>
</span><span class='line'><span class="err">./</span><span class="nf">debug</span><span class="err">/</span><span class="no">usr</span><span class="err">/</span><span class="no">lib</span><span class="err">/</span><span class="no">arm-linux-gnueabi</span><span class="err">/</span><span class="no">crt1.o</span><span class="p">:</span><span class="mi">00000000</span> <span class="no">T</span> <span class="no">_start</span>
</span><span class='line'><span class="err">./</span><span class="nf">debug</span><span class="err">/</span><span class="no">usr</span><span class="err">/</span><span class="no">lib</span><span class="err">/</span><span class="no">arm-linux-gnueabi</span><span class="err">/</span><span class="no">gcrt1.o</span><span class="p">:</span><span class="mi">00000000</span> <span class="no">T</span> <span class="no">_start</span>
</span><span class='line'><span class="err">./</span><span class="nf">debug</span><span class="err">/</span><span class="no">usr</span><span class="err">/</span><span class="no">lib</span><span class="err">/</span><span class="no">arm-linux-gnueabi</span><span class="err">/</span><span class="no">Scrt1.o</span><span class="p">:</span><span class="mi">00000000</span> <span class="no">T</span> <span class="no">_start</span>
</span></code></pre></td></tr></table></div></figure>


<p>OK，的確有object檔案裡面有<code>_start</code>，我們再來確認編譯的時候會不會link這些檔案。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='asm'><span class='line'><span class="nf">$</span> <span class="no">gcc</span> <span class="p">-</span><span class="no">v</span> <span class="no">hello1.c</span>
</span><span class='line'><span class="no">Using</span> <span class="no">built-in</span> <span class="no">specs.</span>
</span><span class='line'><span class="nf">COLLECT_GCC</span><span class="err">=</span><span class="no">gcc</span>
</span><span class='line'><span class="na">...</span>
</span><span class='line'><span class="nf">COLLECT_GCC_OPTIONS</span><span class="err">=&#39;</span><span class="p">-</span><span class="no">v</span><span class="err">&#39;</span> <span class="err">&#39;</span><span class="p">-</span><span class="no">march</span><span class="err">=</span><span class="no">armv4t</span><span class="err">&#39;</span> <span class="err">&#39;</span><span class="p">-</span><span class="no">mfloat-abi</span><span class="err">=</span><span class="no">soft</span><span class="err">&#39;</span>
</span><span class='line'><span class="no">...</span>
</span><span class='line'><span class="err">-</span><span class="nf">X</span> <span class="p">--</span><span class="no">hash-style</span><span class="err">=</span><span class="no">gnu</span> <span class="p">-</span><span class="no">m</span> <span class="no">armelf_linux_eabi</span>
</span><span class='line'><span class="na">...</span>
</span><span class='line'><span class="err">/</span><span class="nf">usr</span><span class="err">/</span><span class="no">lib</span><span class="err">/</span><span class="no">gcc</span><span class="err">/</span><span class="no">arm-linux-gnueabi</span><span class="err">/</span><span class="mi">4</span><span class="no">.9</span><span class="err">/</span><span class="no">..</span><span class="err">/</span><span class="no">..</span><span class="err">/</span><span class="no">..</span><span class="err">/</span><span class="no">arm-linux-gnueabi</span><span class="err">/</span><span class="no">crt1.o</span>
</span><span class='line'><span class="no">...</span>
</span></code></pre></td></tr></table></div></figure>


<p>而<code>_start</code>會呼叫外部函數<code>__libc_start_main</code>，我們透過<code>LD_DEBUG</code>來看一下。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='asm'><span class='line'><span class="nf">$</span> <span class="no">LD_DEBUG</span><span class="err">=</span><span class="no">all</span> <span class="p">.</span><span class="err">/</span><span class="no">hello1</span> <span class="mi">2</span><span class="err">&gt;&amp;</span><span class="mi">1</span> <span class="err">|</span><span class="no">grep</span> <span class="no">__libc_start_main</span>
</span><span class='line'>       <span class="err">890:</span>  <span class="nf">symbol</span><span class="err">=</span><span class="no">__libc_start_main</span><span class="err">;</span>  <span class="no">lookup</span> <span class="no">in</span> <span class="no">file</span><span class="err">=</span><span class="p">.</span><span class="err">/</span><span class="no">hello1</span> <span class="err">[</span><span class="mi">0</span><span class="err">]</span>
</span><span class='line'>       <span class="err">890:</span>  <span class="nf">symbol</span><span class="err">=</span><span class="no">__libc_start_main</span><span class="err">;</span>  <span class="no">lookup</span> <span class="no">in</span> <span class="no">file</span><span class="err">=/</span><span class="no">lib</span><span class="err">/</span><span class="no">arm-linux-gnueabi</span><span class="err">/</span><span class="no">libc.so.6</span> <span class="err">[</span><span class="mi">0</span><span class="err">]</span>
</span><span class='line'>       <span class="err">890:</span>  <span class="nf">binding</span> <span class="no">file</span> <span class="p">.</span><span class="err">/</span><span class="no">hello1</span> <span class="err">[</span><span class="mi">0</span><span class="err">]</span> <span class="no">to</span> <span class="err">/</span><span class="no">lib</span><span class="err">/</span><span class="no">arm-linux-gnueabi</span><span class="err">/</span><span class="no">libc.so.6</span> <span class="err">[</span><span class="mi">0</span><span class="err">]</span><span class="p">:</span> <span class="no">normal</span> <span class="no">symbol</span> <span class="err">`</span><span class="no">__libc_start_main</span><span class="err">&#39;</span> <span class="err">[</span><span class="no">GLIBC_2.4</span><span class="err">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以看到，在./hello1中有去找<code>__libc_start_main</code>，最後去<code>libc.so.6</code>找，並且找出<code>libc.so.6</code>中<code>__libc_start_main</code>的位址(即binding)。而<code>__libc_start_main</code>的<a href="http://refspecs.linuxbase.org/LSB_4.0.0/LSB-Core-generic/LSB-Core-generic/baselib---libc-start-main-.html">prototype</a>如下</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="nf">__libc_start_main</span><span class="p">(</span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">main</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="p">),</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span> <span class="n">ubp_av</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">init</span><span class="p">)</span> <span class="p">(</span><span class="kt">void</span><span class="p">),</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">fini</span><span class="p">)</span> <span class="p">(</span><span class="kt">void</span><span class="p">),</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">rtld_fini</span><span class="p">)</span> <span class="p">(</span><span class="kt">void</span><span class="p">),</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">stack_end</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>看到有趣的東西嘛？我有看到</p>

<ul>
<li>main函數當作function pointer傳入</li>
<li>main函數的參數</li>
<li>其他不知道三小的function pointer

<ul>
<li>init</li>
<li>fini</li>
<li>rtld_fini</li>
</ul>
</li>
</ul>


<p>從這邊我可以猜測這個函數就是呼叫一堆callback function，這些callback function就是上面列的死人骨頭。</p>

<p>從<a href="http://refspecs.linuxbase.org/LSB_4.0.0/LSB-Core-generic/LSB-Core-generic/baselib---libc-start-main-.html">手冊</a>的說明可以看到<code>__libc_start_main()</code>是用來執行環境的初始化、呼叫<code>main</code>函數並且傳遞參數，當<code>main</code>函數結束後處理回傳值。手冊提到的範例詳細行為有</p>

<ul>
<li>檢查權限，確保安全性</li>
<li>thread subsystem初始化 (我可不知道什麼thread subsystem唷)</li>
<li>向<code>rtld_fini</code>註冊release callback function，當shared object結束時使用該callback釋放資源</li>
<li>呼叫init callback function</li>
<li>呼叫main callback function並且帶入參數</li>
<li>當main callback function結束後，將回傳值作為參數呼叫exit</li>
</ul>


<p>我們再回頭看看<code>_start</code>的組合語言：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="mf">000102f</span><span class="mi">0</span> <span class="o">&lt;</span><span class="n">_start</span><span class="o">&gt;:</span>
</span><span class='line'>   <span class="mf">102f</span><span class="mi">0</span><span class="o">:</span>       <span class="n">e3a0b000</span>        <span class="n">mov</span>     <span class="n">fp</span><span class="p">,</span> <span class="err">#</span><span class="mi">0</span>
</span><span class='line'>   <span class="mf">102f</span><span class="mi">4</span><span class="o">:</span>       <span class="n">e3a0e000</span>        <span class="n">mov</span>     <span class="n">lr</span><span class="p">,</span> <span class="err">#</span><span class="mi">0</span>
</span><span class='line'>   <span class="mf">102f</span><span class="mi">8</span><span class="o">:</span>       <span class="n">e49d1004</span>        <span class="n">pop</span>     <span class="p">{</span><span class="n">r1</span><span class="p">}</span>            <span class="p">;</span> <span class="p">(</span><span class="n">ldr</span> <span class="n">r1</span><span class="p">,</span> <span class="p">[</span><span class="n">sp</span><span class="p">],</span> <span class="err">#</span><span class="mi">4</span><span class="p">)</span>
</span><span class='line'>   <span class="mf">102f</span><span class="nl">c</span><span class="p">:</span>       <span class="n">e1a0200d</span>        <span class="n">mov</span>     <span class="n">r2</span><span class="p">,</span> <span class="n">sp</span>
</span><span class='line'>   <span class="mi">10300</span><span class="o">:</span>       <span class="n">e52d2004</span>        <span class="n">push</span>    <span class="p">{</span><span class="n">r2</span><span class="p">}</span>            <span class="p">;</span> <span class="p">(</span><span class="n">str</span> <span class="n">r2</span><span class="p">,</span> <span class="p">[</span><span class="n">sp</span><span class="p">,</span> <span class="err">#</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">!</span><span class="p">)</span>
</span><span class='line'>   <span class="mi">10304</span><span class="o">:</span>       <span class="n">e52d0004</span>        <span class="n">push</span>    <span class="p">{</span><span class="n">r0</span><span class="p">}</span>            <span class="p">;</span> <span class="p">(</span><span class="n">str</span> <span class="n">r0</span><span class="p">,</span> <span class="p">[</span><span class="n">sp</span><span class="p">,</span> <span class="err">#</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">!</span><span class="p">)</span>
</span><span class='line'>   <span class="mi">10308</span><span class="o">:</span>       <span class="n">e59fc010</span>        <span class="n">ldr</span>     <span class="n">ip</span><span class="p">,</span> <span class="p">[</span><span class="n">pc</span><span class="p">,</span> <span class="err">#</span><span class="mi">16</span><span class="p">]</span>   <span class="p">;</span> <span class="mi">10320</span> <span class="o">&lt;</span><span class="n">_start</span><span class="o">+</span><span class="mh">0x30</span><span class="o">&gt;</span>
</span><span class='line'>   <span class="mi">1030</span><span class="nl">c</span><span class="p">:</span>       <span class="n">e52dc004</span>        <span class="n">push</span>    <span class="p">{</span><span class="n">ip</span><span class="p">}</span>            <span class="p">;</span> <span class="p">(</span><span class="n">str</span> <span class="n">ip</span><span class="p">,</span> <span class="p">[</span><span class="n">sp</span><span class="p">,</span> <span class="err">#</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">!</span><span class="p">)</span>
</span><span class='line'>   <span class="mi">10310</span><span class="o">:</span>       <span class="n">e59f000c</span>        <span class="n">ldr</span>     <span class="n">r0</span><span class="p">,</span> <span class="p">[</span><span class="n">pc</span><span class="p">,</span> <span class="err">#</span><span class="mi">12</span><span class="p">]</span>   <span class="p">;</span> <span class="mi">10324</span> <span class="o">&lt;</span><span class="n">_start</span><span class="o">+</span><span class="mh">0x34</span><span class="o">&gt;</span>
</span><span class='line'>   <span class="mi">10314</span><span class="o">:</span>       <span class="n">e59f300c</span>        <span class="n">ldr</span>     <span class="n">r3</span><span class="p">,</span> <span class="p">[</span><span class="n">pc</span><span class="p">,</span> <span class="err">#</span><span class="mi">12</span><span class="p">]</span>   <span class="p">;</span> <span class="mi">10328</span> <span class="o">&lt;</span><span class="n">_start</span><span class="o">+</span><span class="mh">0x38</span><span class="o">&gt;</span>
</span><span class='line'>   <span class="mi">10318</span><span class="o">:</span>       <span class="n">ebffffeb</span>        <span class="n">bl</span>      <span class="mi">102</span><span class="n">cc</span> <span class="o">&lt;</span><span class="n">__libc_start_main</span><span class="err">@</span><span class="n">plt</span><span class="o">&gt;</span>
</span><span class='line'>   <span class="mi">1031</span><span class="nl">c</span><span class="p">:</span>       <span class="n">ebfffff0</span>        <span class="n">bl</span>      <span class="mf">102e4</span> <span class="o">&lt;</span><span class="n">abort</span><span class="err">@</span><span class="n">plt</span><span class="o">&gt;</span>
</span><span class='line'>   <span class="mi">10320</span><span class="o">:</span>       <span class="mo">000104</span><span class="n">b4</span>        <span class="p">.</span><span class="n">word</span>   <span class="mh">0x000104b4</span>
</span><span class='line'>   <span class="mi">10324</span><span class="o">:</span>       <span class="mo">00010420</span>        <span class="p">.</span><span class="n">word</span>   <span class="mh">0x00010420</span>
</span><span class='line'>   <span class="mi">10328</span><span class="o">:</span>       <span class="mo">0001044</span><span class="mi">8</span>        <span class="p">.</span><span class="n">word</span>   <span class="mh">0x00010448</span>
</span></code></pre></td></tr></table></div></figure>


<p>有趣的地方是這3個位址</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'>   <span class="mi">10320</span><span class="o">:</span>       <span class="mo">000104</span><span class="n">b4</span>        <span class="p">.</span><span class="n">word</span>   <span class="mh">0x000104b4</span>
</span><span class='line'>   <span class="mi">10324</span><span class="o">:</span>       <span class="mo">00010420</span>        <span class="p">.</span><span class="n">word</span>   <span class="mh">0x00010420</span>
</span><span class='line'>   <span class="mi">10328</span><span class="o">:</span>       <span class="mo">0001044</span><span class="mi">8</span>        <span class="p">.</span><span class="n">word</span>   <span class="mh">0x00010448</span>
</span></code></pre></td></tr></table></div></figure>


<p>從<a href="#ful-asm">這邊</a>可以看到這3個位址分別是</p>

<ul>
<li>10320:       000104b4        .word   0x000104b4

<ul>
<li><code>__libc_csu_fini</code></li>
</ul>
</li>
<li>10324:       00010420        .word   0x00010420

<ul>
<li><code>main</code></li>
</ul>
</li>
<li>10328:       00010448        .word   0x00010448

<ul>
<li><code>__libc_csu_init</code></li>
</ul>
</li>
</ul>


<p>也就是說，<code>main</code>和<code>__libc_csu_init</code>分別當作第一和第四參數傳給<code>__libc_start_main</code>，而<code>__libc_csu_fini</code>則被丟到stack，一樣傳給<code>__libc_start_main</code>了。</p>

<h2>結論</h2>

<p>Linux執行程式的起始點並不是<code>main</code>，而是glibc  binary中<code>crt1.o</code>準備的<code>_start</code>。這個start主要將你的<code>main</code>，還有一些hook函數丟給<code>__libc_start_main</code>，接下來libc的<code>__libc_start_main</code>樵好事情後才真正執行你的<code>main</code>，並且還要在<code>main</code>結束後清理戰場。</p>

<h2>延伸閱讀</h2>

<ul>
<li>Hook function

<ul>
<li><a href="https://gcc.gnu.org/onlinedocs/gccint/Initialization.html#Initialization">GCCINT: 17.20.5 How Initialization Functions Are Handled</a></li>
<li><a href="http://stackoverflow.com/questions/2053029/how-exactly-does-attribute-constructor-work">Stackoverflow: How exactly does <strong>attribute</strong>((constructor)) work?</a></li>
</ul>
</li>
</ul>


<h2>參考資料</h2>

<ul>
<li><a href="http://refspecs.linuxbase.org/LSB_4.0.0/LSB-Core-generic/LSB-Core-generic/baselib---libc-start-main-.html">Linux Standard Base Core Specification 4.0: __libc_start_main</a>

<ul>
<li>不知道是不是過期，請小心服用</li>
</ul>
</li>
<li><a href="http://bottomupcs.sourceforge.net/csbu/x3564.htm">Computer Science from the Bottom Up: Chapter 8. Behind the process   (大推!)</a></li>
<li><a href="http://dev.gentoo.org/~vapier/crt.txt">Mini FAQ about the misc libc/gcc crt files</a></li>
<li><a href="http://allenlsy.com/c-essense-2-assembly-and-c/">allenlsy: C Essense (2) - C and Assembly</a>

<ul>
<li>全系列都推！</li>
</ul>
</li>
</ul>


<p><a name="ful_asm"></a></p>

<h2>完整反組譯程式碼</h2>

<figure class='code'><figcaption><span>Hello.dis</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
</pre></td><td class='code'><pre><code class='asm'><span class='line'><span class="nf">$</span> <span class="no">cat</span> <span class="no">hello1.dis</span>
</span><span class='line'>
</span><span class='line'><span class="no">hello1</span><span class="p">:</span>     <span class="no">file</span> <span class="no">format</span> <span class="no">elf32-littlearm</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nf">Disassembly</span> <span class="no">of</span> <span class="no">section</span> <span class="no">.init</span><span class="p">:</span>
</span><span class='line'>
</span><span class='line'><span class="err">0001029</span><span class="nf">c</span> <span class="err">&lt;</span><span class="no">_init</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">1029</span><span class="nl">c:</span>    <span class="nf">e92d4008</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">a0:</span>    <span class="nf">eb000021</span>    <span class="no">bl</span>  <span class="mh">1032c</span> <span class="p">&lt;</span><span class="no">call_weak_fn</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">a4:</span>    <span class="nf">e8bd4008</span>    <span class="no">pop</span> <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">a8:</span>    <span class="nf">e12fff1e</span>    <span class="no">bx</span>  <span class="no">lr</span>
</span><span class='line'>
</span><span class='line'><span class="nf">Disassembly</span> <span class="no">of</span> <span class="no">section</span> <span class="no">.plt</span><span class="p">:</span>
</span><span class='line'>
</span><span class='line'><span class="err">000102</span><span class="nf">ac</span> <span class="err">&lt;</span><span class="no">puts@plt-0x14</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">ac:</span>    <span class="nf">e52de004</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">lr</span><span class="err">}</span>      <span class="err">;</span> <span class="p">(</span><span class="no">str</span> <span class="no">lr</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="p">,</span> <span class="c">#-4]!)</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">b0:</span>    <span class="nf">e59fe004</span>    <span class="no">ldr</span> <span class="no">lr</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#4] ; 102bc &lt;_init+0x20&gt;</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">b4:</span>    <span class="nf">e08fe00e</span>    <span class="no">add</span> <span class="no">lr</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="no">lr</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">b8:</span>    <span class="nf">e5bef008</span>    <span class="no">ldr</span> <span class="no">pc</span><span class="p">,</span> <span class="err">[</span><span class="no">lr</span><span class="p">,</span> <span class="c">#8]!</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">bc:</span>    <span class="err">00010318</span>   <span class="na">.word</span>   <span class="mi">0x00010318</span>
</span><span class='line'>
</span><span class='line'><span class="err">000102</span><span class="nf">c0</span> <span class="err">&lt;</span><span class="no">puts@plt</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">c0:</span>    <span class="nf">e28fc600</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="c">#0, 12</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">c4:</span>    <span class="nf">e28cca10</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">ip</span><span class="p">,</span> <span class="c">#16, 20   ; 0x10000</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">c8:</span>    <span class="nf">e5bcf318</span>    <span class="no">ldr</span> <span class="no">pc</span><span class="p">,</span> <span class="err">[</span><span class="no">ip</span><span class="p">,</span> <span class="c">#792]!  ; 0x318</span>
</span><span class='line'>
</span><span class='line'><span class="err">000102</span><span class="nf">cc</span> <span class="err">&lt;</span><span class="no">__libc_start_main@plt</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">cc:</span>    <span class="nf">e28fc600</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="c">#0, 12</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">d0:</span>    <span class="nf">e28cca10</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">ip</span><span class="p">,</span> <span class="c">#16, 20   ; 0x10000</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">d4:</span>    <span class="nf">e5bcf310</span>    <span class="no">ldr</span> <span class="no">pc</span><span class="p">,</span> <span class="err">[</span><span class="no">ip</span><span class="p">,</span> <span class="c">#784]!  ; 0x310</span>
</span><span class='line'>
</span><span class='line'><span class="err">000102</span><span class="nf">d8</span> <span class="err">&lt;</span><span class="no">__gmon_start__@plt</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">d8:</span>    <span class="nf">e28fc600</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="c">#0, 12</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">dc:</span>    <span class="nf">e28cca10</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">ip</span><span class="p">,</span> <span class="c">#16, 20   ; 0x10000</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">e0:</span>    <span class="nf">e5bcf308</span>    <span class="no">ldr</span> <span class="no">pc</span><span class="p">,</span> <span class="err">[</span><span class="no">ip</span><span class="p">,</span> <span class="c">#776]!  ; 0x308</span>
</span><span class='line'>
</span><span class='line'><span class="err">000102</span><span class="nf">e4</span> <span class="err">&lt;</span><span class="no">abort@plt</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">e4:</span>    <span class="nf">e28fc600</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="c">#0, 12</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">e8:</span>    <span class="nf">e28cca10</span>    <span class="no">add</span> <span class="no">ip</span><span class="p">,</span> <span class="no">ip</span><span class="p">,</span> <span class="c">#16, 20   ; 0x10000</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">ec:</span>    <span class="nf">e5bcf300</span>    <span class="no">ldr</span> <span class="no">pc</span><span class="p">,</span> <span class="err">[</span><span class="no">ip</span><span class="p">,</span> <span class="c">#768]!  ; 0x300</span>
</span><span class='line'>
</span><span class='line'><span class="nf">Disassembly</span> <span class="no">of</span> <span class="no">section</span> <span class="no">.text</span><span class="p">:</span>
</span><span class='line'>
</span><span class='line'><span class="err">000102</span><span class="nf">f0</span> <span class="err">&lt;</span><span class="no">_start</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">f0:</span>    <span class="nf">e3a0b000</span>    <span class="no">mov</span> <span class="no">fp</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">f4:</span>    <span class="nf">e3a0e000</span>    <span class="no">mov</span> <span class="no">lr</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">f8:</span>    <span class="nf">e49d1004</span>    <span class="no">pop</span> <span class="err">{</span><span class="no">r1</span><span class="err">}</span>      <span class="err">;</span> <span class="p">(</span><span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="err">]</span><span class="p">,</span> <span class="c">#4)</span>
</span><span class='line'>   <span class="err">102</span><span class="nl">fc:</span>    <span class="nf">e1a0200d</span>    <span class="no">mov</span> <span class="no">r2</span><span class="p">,</span> <span class="no">sp</span>
</span><span class='line'>   <span class="err">10300:</span>    <span class="nf">e52d2004</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">r2</span><span class="err">}</span>      <span class="err">;</span> <span class="p">(</span><span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="p">,</span> <span class="c">#-4]!)</span>
</span><span class='line'>   <span class="err">10304:</span>    <span class="nf">e52d0004</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">r0</span><span class="err">}</span>      <span class="err">;</span> <span class="p">(</span><span class="no">str</span> <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="p">,</span> <span class="c">#-4]!)</span>
</span><span class='line'>   <span class="err">10308:</span>    <span class="nf">e59fc010</span>    <span class="no">ldr</span> <span class="no">ip</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#16]    ; 10320 &lt;_start+0x30&gt;</span>
</span><span class='line'>   <span class="err">1030</span><span class="nl">c:</span>    <span class="nf">e52dc004</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">ip</span><span class="err">}</span>      <span class="err">;</span> <span class="p">(</span><span class="no">str</span> <span class="no">ip</span><span class="p">,</span> <span class="err">[</span><span class="no">sp</span><span class="p">,</span> <span class="c">#-4]!)</span>
</span><span class='line'>   <span class="err">10310:</span>    <span class="nf">e59f000c</span>    <span class="no">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#12]    ; 10324 &lt;_start+0x34&gt;</span>
</span><span class='line'>   <span class="err">10314:</span>    <span class="nf">e59f300c</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#12]    ; 10328 &lt;_start+0x38&gt;</span>
</span><span class='line'>   <span class="err">10318:</span>    <span class="nf">ebffffeb</span>    <span class="no">bl</span>  <span class="mh">102cc</span> <span class="p">&lt;</span><span class="no">__libc_start_main@plt</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">1031</span><span class="nl">c:</span>    <span class="nf">ebfffff0</span>    <span class="no">bl</span>  <span class="mh">102e4</span> <span class="p">&lt;</span><span class="no">abort@plt</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10320:</span>    <span class="err">000104</span><span class="nf">b4</span>   <span class="no">.word</span>   <span class="mi">0x000104b4</span>
</span><span class='line'>   <span class="err">10324:</span>    <span class="err">00010420</span>   <span class="na">.word</span>   <span class="mi">0x00010420</span>
</span><span class='line'>   <span class="err">10328:</span>    <span class="err">00010448</span>   <span class="na">.word</span>   <span class="mi">0x00010448</span>
</span><span class='line'>
</span><span class='line'><span class="err">0001032</span><span class="nf">c</span> <span class="err">&lt;</span><span class="no">call_weak_fn</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">1032</span><span class="nl">c:</span>    <span class="nf">e59f3014</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#20]    ; 10348 &lt;call_weak_fn+0x1c&gt;</span>
</span><span class='line'>   <span class="err">10330:</span>    <span class="nf">e59f2014</span>    <span class="no">ldr</span> <span class="no">r2</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#20]    ; 1034c &lt;call_weak_fn+0x20&gt;</span>
</span><span class='line'>   <span class="err">10334:</span>    <span class="nf">e08f3003</span>    <span class="no">add</span> <span class="no">r3</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="no">r3</span>
</span><span class='line'>   <span class="err">10338:</span>    <span class="nf">e7932002</span>    <span class="no">ldr</span> <span class="no">r2</span><span class="p">,</span> <span class="err">[</span><span class="no">r3</span><span class="p">,</span> <span class="no">r2</span><span class="err">]</span>
</span><span class='line'>   <span class="err">1033</span><span class="nl">c:</span>    <span class="nf">e3520000</span>    <span class="no">cmp</span> <span class="no">r2</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">10340:</span>    <span class="err">012</span><span class="nf">fff1e</span>   <span class="no">bxeq</span>    <span class="no">lr</span>
</span><span class='line'>   <span class="err">10344:</span>    <span class="nf">eaffffe3</span>    <span class="no">b</span>   <span class="mh">102d8</span> <span class="p">&lt;</span><span class="no">__gmon_start__@plt</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10348:</span>    <span class="err">00010298</span>   <span class="na">.word</span>   <span class="mi">0x00010298</span>
</span><span class='line'>   <span class="err">1034</span><span class="nl">c:</span>    <span class="err">0000001</span><span class="nf">c</span>   <span class="no">.word</span>   <span class="mi">0x0000001c</span>
</span><span class='line'>
</span><span class='line'><span class="err">00010350</span> <span class="err">&lt;</span><span class="nf">deregister_tm_clones</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">10350:</span>    <span class="nf">e59f301c</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#28]    ; 10374 &lt;deregister_tm_clones+0x24&gt;</span>
</span><span class='line'>   <span class="err">10354:</span>    <span class="nf">e59f001c</span>    <span class="no">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#28]    ; 10378 &lt;deregister_tm_clones+0x28&gt;</span>
</span><span class='line'>   <span class="err">10358:</span>    <span class="nf">e0603003</span>    <span class="no">rsb</span> <span class="no">r3</span><span class="p">,</span> <span class="no">r0</span><span class="p">,</span> <span class="no">r3</span>
</span><span class='line'>   <span class="err">1035</span><span class="nl">c:</span>    <span class="nf">e3530006</span>    <span class="no">cmp</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#6</span>
</span><span class='line'>   <span class="err">10360:</span>    <span class="err">912</span><span class="nf">fff1e</span>   <span class="no">bxls</span>    <span class="no">lr</span>
</span><span class='line'>   <span class="err">10364:</span>    <span class="nf">e59f3010</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#16]    ; 1037c &lt;deregister_tm_clones+0x2c&gt;</span>
</span><span class='line'>   <span class="err">10368:</span>    <span class="nf">e3530000</span>    <span class="no">cmp</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">1036</span><span class="nl">c:</span>    <span class="err">012</span><span class="nf">fff1e</span>   <span class="no">bxeq</span>    <span class="no">lr</span>
</span><span class='line'>   <span class="err">10370:</span>    <span class="nf">e12fff13</span>    <span class="no">bx</span>  <span class="no">r3</span>
</span><span class='line'>   <span class="err">10374:</span>    <span class="err">000205</span><span class="nf">ff</span>   <span class="no">.word</span>   <span class="mi">0x000205ff</span>
</span><span class='line'>   <span class="err">10378:</span>    <span class="err">000205</span><span class="nf">fc</span>   <span class="no">.word</span>   <span class="mi">0x000205fc</span>
</span><span class='line'>   <span class="err">1037</span><span class="nl">c:</span>    <span class="err">00000000</span>   <span class="na">.word</span>   <span class="mi">0x00000000</span>
</span><span class='line'>
</span><span class='line'><span class="err">00010380</span> <span class="err">&lt;</span><span class="nf">register_tm_clones</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">10380:</span>    <span class="nf">e59f1024</span>    <span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#36]    ; 103ac &lt;register_tm_clones+0x2c&gt;</span>
</span><span class='line'>   <span class="err">10384:</span>    <span class="nf">e59f0024</span>    <span class="no">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#36]    ; 103b0 &lt;register_tm_clones+0x30&gt;</span>
</span><span class='line'>   <span class="err">10388:</span>    <span class="nf">e0601001</span>    <span class="no">rsb</span> <span class="no">r1</span><span class="p">,</span> <span class="no">r0</span><span class="p">,</span> <span class="no">r1</span>
</span><span class='line'>   <span class="err">1038</span><span class="nl">c:</span>    <span class="nf">e1a01141</span>    <span class="no">asr</span> <span class="no">r1</span><span class="p">,</span> <span class="no">r1</span><span class="p">,</span> <span class="c">#2</span>
</span><span class='line'>   <span class="err">10390:</span>    <span class="nf">e0811fa1</span>    <span class="no">add</span> <span class="no">r1</span><span class="p">,</span> <span class="no">r1</span><span class="p">,</span> <span class="no">r1</span><span class="p">,</span> <span class="no">lsr</span> <span class="c">#31</span>
</span><span class='line'>   <span class="err">10394:</span>    <span class="nf">e1b010c1</span>    <span class="no">asrs</span>    <span class="no">r1</span><span class="p">,</span> <span class="no">r1</span><span class="p">,</span> <span class="c">#1</span>
</span><span class='line'>   <span class="err">10398:</span>    <span class="err">012</span><span class="nf">fff1e</span>   <span class="no">bxeq</span>    <span class="no">lr</span>
</span><span class='line'>   <span class="err">1039</span><span class="nl">c:</span>    <span class="nf">e59f3010</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#16]    ; 103b4 &lt;register_tm_clones+0x34&gt;</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">a0:</span>    <span class="nf">e3530000</span>    <span class="no">cmp</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">a4:</span>    <span class="err">012</span><span class="nf">fff1e</span>   <span class="no">bxeq</span>    <span class="no">lr</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">a8:</span>    <span class="nf">e12fff13</span>    <span class="no">bx</span>  <span class="no">r3</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">ac:</span>    <span class="err">000205</span><span class="nf">fc</span>   <span class="no">.word</span>   <span class="mi">0x000205fc</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">b0:</span>    <span class="err">000205</span><span class="nf">fc</span>   <span class="no">.word</span>   <span class="mi">0x000205fc</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">b4:</span>    <span class="err">00000000</span>   <span class="na">.word</span>   <span class="mi">0x00000000</span>
</span><span class='line'>
</span><span class='line'><span class="err">000103</span><span class="nf">b8</span> <span class="err">&lt;</span><span class="no">__do_global_dtors_aux</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">b8:</span>    <span class="nf">e92d4010</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">r4</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">bc:</span>    <span class="nf">e59f401c</span>    <span class="no">ldr</span> <span class="no">r4</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#28]    ; 103e0 &lt;__do_global_dtors_aux+0x28&gt;</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">c0:</span>    <span class="nf">e5d43000</span>    <span class="no">ldrb</span>    <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">r4</span><span class="err">]</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">c4:</span>    <span class="nf">e3530000</span>    <span class="no">cmp</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">c8:</span>    <span class="err">1</span><span class="nf">a000002</span>   <span class="no">bne</span> <span class="mh">103d8</span> <span class="p">&lt;</span><span class="no">__do_global_dtors_aux</span><span class="p">+</span><span class="mi">0x20</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">cc:</span>    <span class="nf">ebffffdf</span>    <span class="no">bl</span>  <span class="mh">10350</span> <span class="p">&lt;</span><span class="no">deregister_tm_clones</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">d0:</span>    <span class="nf">e3a03001</span>    <span class="no">mov</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#1</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">d4:</span>    <span class="nf">e5c43000</span>    <span class="no">strb</span>    <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">r4</span><span class="err">]</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">d8:</span>    <span class="nf">e8bd4010</span>    <span class="no">pop</span> <span class="err">{</span><span class="no">r4</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">dc:</span>    <span class="nf">e12fff1e</span>    <span class="no">bx</span>  <span class="no">lr</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">e0:</span>    <span class="err">000205</span><span class="nf">fc</span>   <span class="no">.word</span>   <span class="mi">0x000205fc</span>
</span><span class='line'>
</span><span class='line'><span class="err">000103</span><span class="nf">e4</span> <span class="err">&lt;</span><span class="no">frame_dummy</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">e4:</span>    <span class="nf">e92d4008</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">e8:</span>    <span class="nf">e59f0028</span>    <span class="no">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#40]    ; 10418 &lt;frame_dummy+0x34&gt;</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">ec:</span>    <span class="nf">e5903000</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">r0</span><span class="err">]</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">f0:</span>    <span class="nf">e3530000</span>    <span class="no">cmp</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">f4:</span>    <span class="err">1</span><span class="nf">a000001</span>   <span class="no">bne</span> <span class="mh">10400</span> <span class="p">&lt;</span><span class="no">frame_dummy</span><span class="p">+</span><span class="mi">0x1c</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">f8:</span>    <span class="nf">e8bd4008</span>    <span class="no">pop</span> <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">103</span><span class="nl">fc:</span>    <span class="nf">eaffffdf</span>    <span class="no">b</span>   <span class="mh">10380</span> <span class="p">&lt;</span><span class="no">register_tm_clones</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10400:</span>    <span class="nf">e59f3014</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#20]    ; 1041c &lt;frame_dummy+0x38&gt;</span>
</span><span class='line'>   <span class="err">10404:</span>    <span class="nf">e3530000</span>    <span class="no">cmp</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">10408:</span>    <span class="err">0</span><span class="nf">afffffa</span>   <span class="no">beq</span> <span class="mh">103f8</span> <span class="p">&lt;</span><span class="no">frame_dummy</span><span class="p">+</span><span class="mi">0x14</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">1040</span><span class="nl">c:</span>    <span class="nf">e1a0e00f</span>    <span class="no">mov</span> <span class="no">lr</span><span class="p">,</span> <span class="no">pc</span>
</span><span class='line'>   <span class="err">10410:</span>    <span class="nf">e12fff13</span>    <span class="no">bx</span>  <span class="no">r3</span>
</span><span class='line'>   <span class="err">10414:</span>    <span class="nf">eafffff7</span>    <span class="no">b</span>   <span class="mh">103f8</span> <span class="p">&lt;</span><span class="no">frame_dummy</span><span class="p">+</span><span class="mi">0x14</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10418:</span>    <span class="err">000204</span><span class="nf">e8</span>   <span class="no">.word</span>   <span class="mi">0x000204e8</span>
</span><span class='line'>   <span class="err">1041</span><span class="nl">c:</span>    <span class="err">00000000</span>   <span class="na">.word</span>   <span class="mi">0x00000000</span>
</span><span class='line'>
</span><span class='line'><span class="err">00010420</span> <span class="err">&lt;</span><span class="nf">main</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">10420:</span>    <span class="nf">e92d4800</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">fp</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">10424:</span>    <span class="nf">e28db004</span>    <span class="no">add</span> <span class="no">fp</span><span class="p">,</span> <span class="no">sp</span><span class="p">,</span> <span class="c">#4</span>
</span><span class='line'>   <span class="err">10428:</span>    <span class="nf">e59f0014</span>    <span class="no">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#20]    ; 10444 &lt;main+0x24&gt;</span>
</span><span class='line'>   <span class="err">1042</span><span class="nl">c:</span>    <span class="nf">ebffffa3</span>    <span class="no">bl</span>  <span class="mh">102c0</span> <span class="p">&lt;</span><span class="no">puts@plt</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10430:</span>    <span class="nf">e3a03000</span>    <span class="no">mov</span> <span class="no">r3</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">10434:</span>    <span class="nf">e1a00003</span>    <span class="no">mov</span> <span class="no">r0</span><span class="p">,</span> <span class="no">r3</span>
</span><span class='line'>   <span class="err">10438:</span>    <span class="nf">e24bd004</span>    <span class="no">sub</span> <span class="no">sp</span><span class="p">,</span> <span class="no">fp</span><span class="p">,</span> <span class="c">#4</span>
</span><span class='line'>   <span class="err">1043</span><span class="nl">c:</span>    <span class="nf">e8bd4800</span>    <span class="no">pop</span> <span class="err">{</span><span class="no">fp</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">10440:</span>    <span class="nf">e12fff1e</span>    <span class="no">bx</span>  <span class="no">lr</span>
</span><span class='line'>   <span class="err">10444:</span>    <span class="err">000104</span><span class="nf">c8</span>   <span class="no">.word</span>   <span class="mi">0x000104c8</span>
</span><span class='line'>
</span><span class='line'><span class="err">00010448</span> <span class="err">&lt;</span><span class="nf">__libc_csu_init</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">10448:</span>    <span class="nf">e92d43f8</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">r4</span><span class="p">,</span> <span class="no">r5</span><span class="p">,</span> <span class="no">r6</span><span class="p">,</span> <span class="no">r7</span><span class="p">,</span> <span class="no">r8</span><span class="p">,</span> <span class="no">r9</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">1044</span><span class="nl">c:</span>    <span class="nf">e59f6058</span>    <span class="no">ldr</span> <span class="no">r6</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#88]    ; 104ac &lt;__libc_csu_init+0x64&gt;</span>
</span><span class='line'>   <span class="err">10450:</span>    <span class="nf">e59f5058</span>    <span class="no">ldr</span> <span class="no">r5</span><span class="p">,</span> <span class="err">[</span><span class="no">pc</span><span class="p">,</span> <span class="c">#88]    ; 104b0 &lt;__libc_csu_init+0x68&gt;</span>
</span><span class='line'>   <span class="err">10454:</span>    <span class="nf">e08f6006</span>    <span class="no">add</span> <span class="no">r6</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="no">r6</span>
</span><span class='line'>   <span class="err">10458:</span>    <span class="nf">e08f5005</span>    <span class="no">add</span> <span class="no">r5</span><span class="p">,</span> <span class="no">pc</span><span class="p">,</span> <span class="no">r5</span>
</span><span class='line'>   <span class="err">1045</span><span class="nl">c:</span>    <span class="nf">e0656006</span>    <span class="no">rsb</span> <span class="no">r6</span><span class="p">,</span> <span class="no">r5</span><span class="p">,</span> <span class="no">r6</span>
</span><span class='line'>   <span class="err">10460:</span>    <span class="nf">e1a07000</span>    <span class="no">mov</span> <span class="no">r7</span><span class="p">,</span> <span class="no">r0</span>
</span><span class='line'>   <span class="err">10464:</span>    <span class="nf">e1a08001</span>    <span class="no">mov</span> <span class="no">r8</span><span class="p">,</span> <span class="no">r1</span>
</span><span class='line'>   <span class="err">10468:</span>    <span class="nf">e1a09002</span>    <span class="no">mov</span> <span class="no">r9</span><span class="p">,</span> <span class="no">r2</span>
</span><span class='line'>   <span class="err">1046</span><span class="nl">c:</span>    <span class="nf">ebffff8a</span>    <span class="no">bl</span>  <span class="mh">1029c</span> <span class="p">&lt;</span><span class="no">_init</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10470:</span>    <span class="nf">e1b06146</span>    <span class="no">asrs</span>    <span class="no">r6</span><span class="p">,</span> <span class="no">r6</span><span class="p">,</span> <span class="c">#2</span>
</span><span class='line'>   <span class="err">10474:</span>    <span class="err">0</span><span class="nf">a00000a</span>   <span class="no">beq</span> <span class="mh">104a4</span> <span class="p">&lt;</span><span class="no">__libc_csu_init</span><span class="p">+</span><span class="mi">0x5c</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">10478:</span>    <span class="nf">e2455004</span>    <span class="no">sub</span> <span class="no">r5</span><span class="p">,</span> <span class="no">r5</span><span class="p">,</span> <span class="c">#4</span>
</span><span class='line'>   <span class="err">1047</span><span class="nl">c:</span>    <span class="nf">e3a04000</span>    <span class="no">mov</span> <span class="no">r4</span><span class="p">,</span> <span class="c">#0</span>
</span><span class='line'>   <span class="err">10480:</span>    <span class="nf">e2844001</span>    <span class="no">add</span> <span class="no">r4</span><span class="p">,</span> <span class="no">r4</span><span class="p">,</span> <span class="c">#1</span>
</span><span class='line'>   <span class="err">10484:</span>    <span class="nf">e5b53004</span>    <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="err">[</span><span class="no">r5</span><span class="p">,</span> <span class="c">#4]!</span>
</span><span class='line'>   <span class="err">10488:</span>    <span class="nf">e1a00007</span>    <span class="no">mov</span> <span class="no">r0</span><span class="p">,</span> <span class="no">r7</span>
</span><span class='line'>   <span class="err">1048</span><span class="nl">c:</span>    <span class="nf">e1a01008</span>    <span class="no">mov</span> <span class="no">r1</span><span class="p">,</span> <span class="no">r8</span>
</span><span class='line'>   <span class="err">10490:</span>    <span class="nf">e1a02009</span>    <span class="no">mov</span> <span class="no">r2</span><span class="p">,</span> <span class="no">r9</span>
</span><span class='line'>   <span class="err">10494:</span>    <span class="nf">e1a0e00f</span>    <span class="no">mov</span> <span class="no">lr</span><span class="p">,</span> <span class="no">pc</span>
</span><span class='line'>   <span class="err">10498:</span>    <span class="nf">e12fff13</span>    <span class="no">bx</span>  <span class="no">r3</span>
</span><span class='line'>   <span class="err">1049</span><span class="nl">c:</span>    <span class="nf">e1540006</span>    <span class="no">cmp</span> <span class="no">r4</span><span class="p">,</span> <span class="no">r6</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">a0:</span>    <span class="err">1</span><span class="nf">afffff6</span>   <span class="no">bne</span> <span class="mh">10480</span> <span class="p">&lt;</span><span class="no">__libc_csu_init</span><span class="p">+</span><span class="mi">0x38</span><span class="p">&gt;</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">a4:</span>    <span class="nf">e8bd43f8</span>    <span class="no">pop</span> <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">r4</span><span class="p">,</span> <span class="no">r5</span><span class="p">,</span> <span class="no">r6</span><span class="p">,</span> <span class="no">r7</span><span class="p">,</span> <span class="no">r8</span><span class="p">,</span> <span class="no">r9</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">a8:</span>    <span class="nf">e12fff1e</span>    <span class="no">bx</span>  <span class="no">lr</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">ac:</span>    <span class="err">00010088</span>   <span class="na">.word</span>   <span class="mi">0x00010088</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">b0:</span>    <span class="err">00010080</span>   <span class="na">.word</span>   <span class="mi">0x00010080</span>
</span><span class='line'>
</span><span class='line'><span class="err">000104</span><span class="nf">b4</span> <span class="err">&lt;</span><span class="no">__libc_csu_fini</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">b4:</span>    <span class="nf">e12fff1e</span>    <span class="no">bx</span>  <span class="no">lr</span>
</span><span class='line'>
</span><span class='line'><span class="nf">Disassembly</span> <span class="no">of</span> <span class="no">section</span> <span class="no">.fini</span><span class="p">:</span>
</span><span class='line'>
</span><span class='line'><span class="err">000104</span><span class="nf">b8</span> <span class="err">&lt;</span><span class="no">_fini</span><span class="err">&gt;</span><span class="p">:</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">b8:</span>    <span class="nf">e92d4008</span>    <span class="no">push</span>    <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">bc:</span>    <span class="nf">e8bd4008</span>    <span class="no">pop</span> <span class="err">{</span><span class="no">r3</span><span class="p">,</span> <span class="no">lr</span><span class="err">}</span>
</span><span class='line'>   <span class="err">104</span><span class="nl">c0:</span>    <span class="nf">e12fff1e</span>    <span class="no">bx</span>  <span class="no">lr</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/07/by-qemu-arm-installation-of-debian-systems/">在X86 Linux下透過Qemu安裝ARM的Debian系統</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-07T00:40:00+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>12:40 am</span></time>
        
           | <a href="/blog/2015/02/07/by-qemu-arm-installation-of-debian-systems/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/02/07/by-qemu-arm-installation-of-debian-systems/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>安裝順序如下</p>

<h2>測試環境</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ lsb_release -a
</span><span class='line'>No LSB modules are available.
</span><span class='line'>Distributor ID:   Ubuntu
</span><span class='line'>Description:  Ubuntu 14.04.1 LTS
</span><span class='line'>Release:  14.04
</span><span class='line'>Codename: trusty</span></code></pre></td></tr></table></div></figure>


<h2>安裝Qemu</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo apt-get install qemu-system-arm</span></code></pre></td></tr></table></div></figure>


<h2>拉ARM安裝相關檔案</h2>

<ul>
<li>首先先來看Qemu有支援那些ARM平台</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ qemu-system-arm -machine help
</span><span class='line'>Supported machines are:
</span><span class='line'>versatileab          ARM Versatile/AB (ARM926EJ-S)
</span><span class='line'>versatilepb          ARM Versatile/PB (ARM926EJ-S)
</span><span class='line'>lm3s811evb           Stellaris LM3S811EVB
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<p>安裝ARM版本Debian需要</p>

<ul>
<li>kernel</li>
<li>initrd</li>
<li>ISO
首先到提供Debian下載的網站中的debian/dists找一個你想安裝的版本，我選了7.8 (Wheezy)。
假設Debain下載網站叫host</li>
</ul>


<p>先抓平台相關的kernel和initrd，路徑如下</p>

<pre>http://host/debian/dists/Debian7.8/main/installer-armel/20130430/images/</pre>


<p>下面有不同的ARM平台，還記得上面<code>qemu-system-arm -machine help</code>，請和這邊目錄下的比對，挑一個順眼的。我使用
versatile，所以就切到下面的目錄</p>

<pre>http://host/debian/dists/Debian7.8/main/installer-armel/20130430/images/versatile/netboot/</pre>


<p>把下面的兩個檔案拉下來</p>

<ul>
<li>initrd.gz</li>
<li>vmlinuz-3.2.0-4-versatile</li>
</ul>


<p>接下來在同樣的主機上，下載ISO檔。</p>

<pre>http://host/debian-cd/7.8.0/armel</pre>


<h2>開始安裝</h2>

<p>透過下面的指令安裝虛擬磁碟，請自行決定大小</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ qemu-img create debian.img 8G</span></code></pre></td></tr></table></div></figure>


<p>然後叫qemu載入ARM kernel，initrd，以及ISO</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ qemu-system-arm -M versatileab -kernel ./vmlinuz-3.2.0-4-versatile -initrd ./initrd.gz -cdrom ./debian-7.8.0-armel-DVD-1.iso -hda debian.img -m 1024</span></code></pre></td></tr></table></div></figure>


<p>這邊可以看到versatileab又出現了，請往上找一下這個字串吧。</p>

<h2>抽出虛擬磁碟的kernel和initrd</h2>

<p>最tricky的地方在這邊，理論上你要透過loopback裝置mount 虛擬磁碟，複製/boot就可以了。但是現實就是，因為磁碟機/root的partition有offset，所以直接mount程式無法辨認Filesystem所以無法mount。正確方式如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo fdisk -l -u debian.img 
</span><span class='line'>
</span><span class='line'>Disk debian.img: 8589 MB, 8589934592 bytes
</span><span class='line'>255 heads, 63 sectors/track, 1044 cylinders, total 16777216 sectors
</span><span class='line'>Units = sectors of 1 * 512 = 512 bytes
</span><span class='line'>Sector size (logical/physical): 512 bytes / 512 bytes
</span><span class='line'>I/O size (minimum/optimal): 512 bytes / 512 bytes
</span><span class='line'>Disk identifier: 0x000823a0
</span><span class='line'>
</span><span class='line'>     Device Boot      Start         End      Blocks   Id  System
</span><span class='line'>debian.img1            2048    15988735     7993344   83  Linux
</span><span class='line'>debian.img2        15990782    16775167      392193    5  Extended
</span><span class='line'>debian.img5        15990784    16775167      392192   82  Linux swap / Solaris</span></code></pre></td></tr></table></div></figure>


<p>有兩個東西要注意</p>

<ul>
<li>unit為512 bytes</li>
<li>root partition offset為2048個unit</li>
</ul>


<p>所以正確的mount方式如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo mount -o loop,offset=$((2048 * 512)) debian.img /mnt</span></code></pre></td></tr></table></div></figure>


<p>接下來抽出就簡單了，請在剛才安裝的虛擬磁碟檔案同一個目錄操作。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ mkdir boot
</span><span class='line'>$ cp /mnt/boot/* boot/ -rv</span></code></pre></td></tr></table></div></figure>


<h2>載入安裝的系統</h2>

<p>這邊就照表操課，我有指定localhost將port 2222 forward到Qemu的port 22，以便將來ssh進去</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ qemu-system-arm -M versatileab -kernel ./boot/vmlinuz-3.2.0-4-versatile -initrd ./boot/initrd.img-3.2.0-4-versatile -hda debian.img -m 1024 -append "root=/dev/sda1" -redir tcp:2222::22</span></code></pre></td></tr></table></div></figure>


<p>驗收看看是不是真的可以連進去，並且裏面真的是ARM的binary？</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh -p 2222 user@localhost
</span><span class='line'>user@localhost's password: 
</span><span class='line'>Linux debian 3.2.0-4-versatile #1 Debian 3.2.65-1+deb7u1 armv5tejl
</span><span class='line'>
</span><span class='line'>The programs included with the Debian GNU/Linux system are free software;
</span><span class='line'>the exact distribution terms for each program are described in the
</span><span class='line'>individual files in /usr/share/doc/*/copyright.
</span><span class='line'>
</span><span class='line'>Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
</span><span class='line'>permitted by applicable law.
</span><span class='line'>You have mail.
</span><span class='line'>Last login: Fri Feb  6 09:35:07 2015
</span><span class='line'>user@debian:~$ file /bin/ls
</span><span class='line'>/bin/ls: ELF 32-bit LSB executable, ARM, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.26, BuildID[sha1]=0x5bc97dbca9ac168932d898a5e2eaf68e8fde5e16, stripped</span></code></pre></td></tr></table></div></figure>


<h2>參考資料</h2>

<ul>
<li><a href="http://pominglee.blogspot.tw/2012/11/qemu-arm-debian-linux.html">Dr. Lee&rsquo;s blog: 安裝 qemu arm 版 Debian Linux</a></li>
<li><a href="http://www.bramschoenmakers.nl/en/node/100.html">Connecting to SSH server on QEmu guest</a></li>
<li><a href="https://bbs.archlinux.org/viewtopic.php?id=95326">ArchLinux: Qemu, mounting a raw img to temp file, mount needs a filesystem type.</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/06/talk-about-the-autotools-build-target-and-host/">談談autotools 的 Build, Target, 和host</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-06T22:24:00+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:24 pm</span></time>
        
           | <a href="/blog/2015/02/06/talk-about-the-autotools-build-target-and-host/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/02/06/talk-about-the-autotools-build-target-and-host/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>先來個小故事，某天組裝工趁放假跑去看老房子。發現只有一間上面有動物的造型。因為年代久遠，只看得出來有四肢腳而已，而不知道是那種動物。好奇之餘問了店家，店家說他們承租，不知道那是什麼東西。後來一位長者經過，就順便請教他同一個問題，長者說他住這邊好幾年都不知道上面有這東西。最後遇到當地文史工作室的人，問了才知道是當時主人的商標，一隻獅子。</p>

<p>我們常常用的東西，因為太習以為常，以至於發生視而不見的狀況屢見不鮮。但是惡魔就在細節裏面，而長時間地視而不見就會把自己對於這樣的事物感受性變低。</p>

<p>回到主體。組裝的時候，常常缺東缺西的。這時候就需要cross-compile一些套件頂一下，所以如果有人組裝過的話，應該會對下面的命令倍感親切。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ./configure --host=mipsel</span></code></pre></td></tr></table></div></figure>


<p>如果組裝夠次數夠多，也會看到<code>--target</code>和<code>--build</code>的參數似乎和這個有關。找時間稍微了解一下</p>

<p><font color="red">對於&ndash;target目前手上的資料無法讓我完全理解，請注意！</font></p>

<p>根據<a href="https://www.gnu.org/software/autoconf/manual/autoconf-2.69/html_node/Hosts-and-Cross_002dCompilation.html#Hosts-and-Cross_002dCompilation">Autoconf手冊</a>說明，這些參數的預設值如下:</p>

<ul>
<li><code>--build</code>

<ul>
<li>從config.guess中猜的</li>
</ul>
</li>
<li><code>--host</code>

<ul>
<li>設成和<code>--build</code>相同</li>
</ul>
</li>
<li><code>--target</code>

<ul>
<li>設成和<code>--host</code>相同</li>
</ul>
</li>
</ul>


<p>因為這樣的連動性，如果你要cross-compile，那麼下了<code>--host</code>後麻煩不要省掉<code>--build</code>，不然autotool會把build設成和host一樣。</p>

<p>Automake手冊裏面的定義</p>

<ul>
<li><code>--build</code>

<ul>
<li>你build code，下xxx-gcc那台機器平台</li>
</ul>
</li>
<li><code>--host</code>

<ul>
<li>產生的binary可以執行的平台</li>
</ul>
</li>
<li><code>--target</code>

<ul>
<li>告訴gcc要產生什麼平台的機械碼

<ul>
<li>一般來說會和<code>--host</code>一樣同樣的平台，根據上面的連動，你設了<code>--host</code>就可以省略這個選項</li>
<li>特例是compile cross-compiler或是binutils，toolchain。這時候是指定build在host上，但是處理的對象是cross platform的機械碼</li>
</ul>
</li>
</ul>
</li>
</ul>


<p>Autotool選擇gcc的方式如下</p>

<ul>
<li><code>--host</code>和<code>--build</code>相同

<ul>
<li>用你電腦上的gcc，來編譯autotool的套件。</li>
</ul>
</li>
<li><code>--host</code>和<code>--build</code>不同

<ul>
<li>你要自備cross-compiler</li>
<li>如果有指定<code>--target</code>的為gcc的prefix</li>
<li>如<code>--host=xxx</code>, <code>--target=zzz</code>，會使用zzz-gcc產生xxx平台的機械碼</li>
<li>用該cross-compiler來編譯autotool的套件</li>
<li>這時候要保證cross compiler可以吃的library也存在，常常會為了編一個套件cross compile一堆套件</li>
</ul>
</li>
</ul>


<p>看的有點混亂嘛？沒關係，autoconf 2.69手冊有提到，要cross-compile的話，唯一(if and only if)的條件就是指令<code>--host</code>指定和你現在的平台不同就好。</p>

<h2>參考資料</h2>

<ul>
<li><a href="https://www.gnu.org/software/autoconf/manual/autoconf-2.69/html_node/Hosts-and-Cross_002dCompilation.html">Autoconf手冊: Hosts and Cross-Compilation</a></li>
<li><a href="http://stackoverflow.com/questions/5139403/whats-the-difference-of-configure-option-build-host-and-target">What&rsquo;s the difference of ./configure option &ndash;build, &ndash;host and &ndash;target?</a></li>
<li><a href="http://gcc.gnu.org/onlinedocs/gccint/Configure-Terms.html">GCC online documentation: 6.1 Configure Terms and History</a></li>
<li><a href="http://www.gnu.org/software/automake/manual/html_node/Cross_002dCompilation.htmlaut">Automake手冊：2.2.8 Cross-Compilation</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/hello-world-in-where-background-note-slides-on-line/">Hello World在那邊？背景說明投影片上線</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T16:35:00+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>4:35 pm</span></time>
        
           | <a href="/blog/2015/01/24/hello-world-in-where-background-note-slides-on-line/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/01/24/hello-world-in-where-background-note-slides-on-line/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe src="//www.slideshare.net/slideshow/embed_code/43848623" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/zzz00072/hello-world-43848623" title="Hello world在那邊？背景說明" target="_blank">Hello world在那邊？背景說明</a> </strong> from <strong><a href="//www.slideshare.net/zzz00072" target="_blank">Wen Liao</a></strong> </div></p>

<script async class="speakerdeck-embed" data-id="d8f1004085d00132de3b7a1c3ec56d64" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/22/how-to-trace-in-a-bash-script-function/">如何trace Bash Script中的function</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-22T22:35:00+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>10:35 pm</span></time>
        
           | <a href="/blog/2015/01/22/how-to-trace-in-a-bash-script-function/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/01/22/how-to-trace-in-a-bash-script-function/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在組裝的過程中，常常會遇到用source去載入一個shell script，裏面通常是一組的環境變數。然而如果專案大到某個程度，這個script就會塞入很多複雜的function，例如某專案的build/envsetup.sh。這時候要去trace用肉眼去看實在是太過殘酷，最近為了這個問題想到了一招很簡單的方式，那就是：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bash -x</span></code></pre></td></tr></table></div></figure>


<p>沒錯就這麼簡單，直接來看例子吧。首先我們有一個script裏面有function。</p>

<figure class='code'><figcaption><span>demo.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="k">function</span> whatsoever<span class="o">()</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;My code works, I don&#39;t know why.&quot;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>接下來就是剛才講的操作</p>

<figure class='code'><figcaption><span>demo.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>bash -x
</span><span class='line'>+ <span class="s1">&#39;[&#39;</span> -z <span class="s1">&#39;\s-\v\$ &#39;</span> <span class="s1">&#39;]&#39;</span>
</span><span class='line'>+ <span class="nb">shopt</span> -s checkwinsize
</span><span class='line'>... <span class="c"># 中間發生超多事，有興趣自行研究。發現好玩的再跟我說。</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span><span class="nb">cd</span> /tmp
</span><span class='line'>+ <span class="nb">cd</span> /tmp
</span><span class='line'><span class="nv">$ </span>. demo.sh
</span><span class='line'>+ . demo.sh
</span><span class='line'><span class="nv">$ </span>whatsoever
</span><span class='line'>+ whatsoever
</span><span class='line'>+ <span class="nb">echo</span> <span class="s1">&#39;My code works, I don&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;t know why.&#39;</span>
</span><span class='line'>My code works, I don<span class="err">&#39;</span>t know why.
</span></code></pre></td></tr></table></div></figure>


<p>打完收工，謝謝收看。</p>

<h2>更新</h2>

<p>網友Scott Tasi大大說這個方式和下面的方式相同：</p>

<figure class='code'><figcaption><span>demo.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">set</span> -x
</span></code></pre></td></tr></table></div></figure>


<p>我就學天線寶寶再重複一下實驗</p>

<figure class='code'><figcaption><span>demo.sh</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">set</span> -x
</span><span class='line'><span class="nv">$ </span>. demo.sh
</span><span class='line'>+ . demo.sh
</span><span class='line'><span class="nv">$ </span>whatsoever
</span><span class='line'>+ whatsoever
</span><span class='line'>+ <span class="nb">echo</span> <span class="s1">&#39;My code works, I don&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;t know why.&#39;</span>
</span><span class='line'>My code works, I don<span class="s1">&#39;t know why.</span>
</span><span class='line'><span class="s1">$ set +x</span>
</span><span class='line'><span class="s1">+ set +x</span>
</span><span class='line'><span class="s1">$ whatsoever </span>
</span><span class='line'><span class="s1">My code works, I don&#39;</span>t know why.
</span></code></pre></td></tr></table></div></figure>


<p>結論就是，用<code>set -x</code>，<code>set +x</code>就可以了。不過<code>bash -x</code>跑出來的訊息還真的嚇了我一跳，原來載入一個bash有那麼東的東西要做。這就是所謂的微言大意嗎？</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/17/using-debootstrap-operate-in-the-native-ubuntu-versions-else-command-line/">使用debootstrap 在本機中操作其他Ubuntu 版本 (命令列)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-17T01:00:00+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:00 am</span></time>
        
           | <a href="/blog/2015/01/17/using-debootstrap-operate-in-the-native-ubuntu-versions-else-command-line/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/01/17/using-debootstrap-operate-in-the-native-ubuntu-versions-else-command-line/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>好吧，這個標題我也不滿意，不過就將就一下吧。</p>

<p>簡單來說在Ubuntu內只要可以找得到的distribution，你就有辦法讓它在你的Ubuntu使用。使用順序如下：</p>

<h2>下載你想要執行的套件</h2>

<p>命令：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>debootstrap --arch=你要跑的target平台 --variant=minbase 你要跑的版本代號 自己PC的版本代號 [mirror site]</span></code></pre></td></tr></table></div></figure>


<p>要怎麼知道arch有哪些呢，你可以連到任意一個Ubuntu archive中的ubuntu/dists/[版本代號]/main中就可以看到了。可以看<a href="http://archive.ubuntu.com/ubuntu/dists/trusty/main/">範例網頁</a>，這邊可以看到有<code>i386</code>和<code>amd64</code>兩種架構。</p>

<p>而版本代號可以在任意一個Ubuntu archive中的ubuntu/dists/看到。<a href="http://archive.ubuntu.com/ubuntu/dists">範例網頁</a>可以看到10.04 (lucid), 12.04 (precise)等。</p>

<p>另外&ndash;variant問男人可以看到有</p>

<ul>
<li>minbase

<ul>
<li>最少安裝</li>
</ul>
</li>
<li>buildd

<ul>
<li>多安裝build code需要的套件</li>
</ul>
</li>
<li>fakechroot

<ul>
<li>只安裝不需要root的套件 (怪怪的？？）</li>
</ul>
</li>
<li>scratchbox

<ul>
<li>看不懂，跳過</li>
</ul>
</li>
</ul>


<p>我使用的範例如下：我要在x86-64位元的Ubuntu 14.04 (trusty) 下面安裝32位元(i386)的10.04 (lucid)最少套件的話，就會使用下面的指令。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ sudo debootstrap --arch=i386 --variant=minbase lucid trusty ftp://ftp.tku.edu.tw/ubuntu/
</span><span class='line'>I: Retrieving Release 
</span><span class='line'>I: Retrieving Release.gpg 
</span><span class='line'>I: Checking Release signature
</span><span class='line'>...
</span><span class='line'>I: Unpacking apt...
</span><span class='line'>I: Configuring the base system...
</span><span class='line'>I: Configuring apt...
</span><span class='line'>I: Configuring libc-bin...
</span><span class='line'>I: Base system installed successfully.</span></code></pre></td></tr></table></div></figure>


<p>debootstrap會把下載並解開的套件放在你的指定的target名稱目錄中，這次範例使用trusty，所以我們看看trusty目錄有什麼東西？</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd trusty
</span><span class='line'>$ tree -L 1 -d
</span><span class='line'>.
</span><span class='line'>├── bin
</span><span class='line'>├── boot
</span><span class='line'>├── dev
</span><span class='line'>├── etc
</span><span class='line'>├── home
</span><span class='line'>├── lib
</span><span class='line'>├── media
</span><span class='line'>├── mnt
</span><span class='line'>├── opt
</span><span class='line'>├── proc
</span><span class='line'>├── root
</span><span class='line'>├── sbin
</span><span class='line'>├── selinux
</span><span class='line'>├── srv
</span><span class='line'>├── sys
</span><span class='line'>├── tmp
</span><span class='line'>├── usr
</span><span class='line'>└── var</span></code></pre></td></tr></table></div></figure>


<p>可以看到他就是一個root file system。接下來要做的就是。</p>

<h2>使用chroot切換到用debootstrap安裝的root file system</h2>

<p>先確認我電腦上的Ubuntu版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ lsb_release -a
</span><span class='line'>No LSB modules are available.
</span><span class='line'>Distributor ID:   Ubuntu
</span><span class='line'>Description:  Ubuntu 14.04.1 LTS
</span><span class='line'>Release:  14.04
</span><span class='line'>Codename: trusty
</span><span class='line'>
</span><span class='line'>$ file /bin/ls
</span><span class='line'>/bin/ls: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.24, BuildID[sha1]=64d095bc6589dd4bfbf1c6d62ae985385965461b, stripped</span></code></pre></td></tr></table></div></figure>


<p>切換指令如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd trusty # 假設你還沒切換過去
</span><span class='line'>$ sudo mount --bind /dev ./dev
</span><span class='line'>$ sudo mount --bind /dev/pts ./dev/pts
</span><span class='line'>$ sudo mount --bind /proc ./proc
</span><span class='line'>$ sudo mount --bind /sys ./sys
</span><span class='line'>$ sudo chroot .</span></code></pre></td></tr></table></div></figure>


<p>好啦，口說無憑，我們先來看看是不是真的換到lucid，32位元版本吧</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>## apt-get install lsb-release # 因為最少安裝所以沒有lsb_release
</span><span class='line'>Reading package lists... Done
</span><span class='line'>Building dependency tree... Done
</span><span class='line'>...
</span><span class='line'>
</span><span class='line'>## lsb_release -a
</span><span class='line'>No LSB modules are available.
</span><span class='line'>Distributor ID:   Ubuntu
</span><span class='line'>Description:  Ubuntu 10.04 LTS
</span><span class='line'>Release:  10.04
</span><span class='line'>Codename: lucid
</span><span class='line'>
</span><span class='line'>## file /bin/ls
</span><span class='line'>/bin/ls: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.15, stripped</span></code></pre></td></tr></table></div></figure>


<p>這東西能做什麼呢？有時候開發套件需要在不同的Ubuntu版本測試，這時候後這招頂著先應該會比用VM再來得有效率一些。</p>

<p>另外要注意的是，我測試的時候自己的電腦應該有裝過很多東西了。這表示你要按表操課可能會因為缺乏套件所以不會成功，例如debootstrap可能就要自行安裝了我猜。</p>

<p>嘛，這就是人參，出現這種狀況就當作磨練吧。</p>

<h2>參考資料</h2>

<ul>
<li>man debootstrap</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/10/-guide-to-a-successful-git-branching-model-slides-on-line/">A Successful Git Branching Model 導讀投影片上線</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-10T21:38:00+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>9:38 pm</span></time>
        
           | <a href="/blog/2015/01/10/-guide-to-a-successful-git-branching-model-slides-on-line/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/01/10/-guide-to-a-successful-git-branching-model-slides-on-line/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><iframe src="//www.slideshare.net/slideshow/embed_code/43382196" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/zzz00072/a-successful-git-branching-model-43382196" title="A successful git branching model 導讀" target="_blank">A successful git branching model 導讀</a> </strong> from <strong><a href="//www.slideshare.net/zzz00072" target="_blank">Wen Liao</a></strong> </div></p>

<script async class="speakerdeck-embed" data-id="c2525af07afb01328ff846860cd29960" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/04/talking-about-information-technology-presentions-and-articles-in-taiwan/">Talking About Information Technology Presentions in Taiwan</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-04T20:54:00+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>8:54 pm</span></time>
        
           | <a href="/blog/2015/01/04/talking-about-information-technology-presentions-and-articles-in-taiwan/#disqus_thread"
             data-disqus-identifier="http://wen00072.github.io/blog/2015/01/04/talking-about-information-technology-presentions-and-articles-in-taiwan/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>OK. This should be the first English article in my blog. I do hope this will also be the last one. English is not my mother tongue, so please bear with that. It should be clear to address my point of view although there should be some glitches throughout my article.</p>

<p>The purpose of my technical articles and slides is to provide useful information for the people who uses Chinese. Since I went to college to learn computer engineering, what I saw in the class and laboratory meetings, the slides always wrote in English. Even after I graduated, it still mostly true in the events or presentations I attended locally. However, most professors and speakers uses mandarin to describe their ideas and thoughts. It is rare to have a completed English presentation in those scenarios, never to say discuss in English. If that so, why people uses English in their slides?</p>

<p>Don’t get me wrong. I totally agree English is extremely important in information technology area. Most of the first hand information writes in English. If you need to cooperate with people overseas, you use English. However, the scenario I call into question is that if your audiences uses mandarin, you speak in mandarin, why bother to write slides in English? Can you make sure what you wrote are 100% grammar corrected? Will this exclude the newbie who does not familiar in English yet if they search keyword in the Internet? A ideal article in the Internet should be useful for the people who need it. If you write your article and slide in Chinese, you will benefit the people who uses Chinese. There are already plenty of useful information in English. Why don’t you just use your mother tongue to describe your thought and what you found?</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/8">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/6">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2019/03/20/dump-process-memory-block-via-gdb/">從gdb Dump Process 記憶體資料</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/12/12/linux-binary-resources/">Linux Binary 縮寫和連結</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/12/06/update-octopress-environment-for-ubuntu-18-dot-04/">Ubuntu 16.04更新到Ubuntu 18.04後Octopress 環境變動</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/08/26/vim-posix-group-regex/">Vim POSIX Group Regex 使用方式</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/07/24/notes-on-how-to-c-2016/">Notes on How to C 2016</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Top Categories</h1>
    <ul id="top-category-list"><li><a href='/blog/categories/linux'>linux (41)</a></li><li><a href='/blog/categories/c'>c (32)</a></li><li><a href='/blog/categories/debian'>debian (16)</a></li><li><a href='/blog/categories/presentation'>presentation (14)</a></li><li><a href='/blog/categories/binutils'>binutils (14)</a></li><li><a href='/blog/categories/arm'>arm (12)</a></li><li><a href='/blog/categories/octopress'>octopress (9)</a></li><li><a href='/blog/categories/gan-xiang'>感想 (8)</a></li><li><a href='/blog/categories/make'>make (6)</a></li><li><a href='/blog/categories/stm32'>stm32 (5)</a></li></ul>
</section>
<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/arm'>arm (12)</a></li><li><a href='/blog/categories/asm'>asm (1)</a></li><li><a href='/blog/categories/assembler'>assembler (2)</a></li><li><a href='/blog/categories/assembly'>assembly (3)</a></li><li><a href='/blog/categories/autotools'>autotools (4)</a></li><li><a href='/blog/categories/banana-pi'>banana pi (1)</a></li><li><a href='/blog/categories/bash'>bash (1)</a></li><li><a href='/blog/categories/binutil'>binutil (1)</a></li><li><a href='/blog/categories/binutils'>binutils (14)</a></li><li><a href='/blog/categories/buildroot'>buildroot (2)</a></li><li><a href='/blog/categories/c'>c (32)</a></li><li><a href='/blog/categories/c-preprocessor'>c preprocessor (1)</a></li><li><a href='/blog/categories/c99'>c99 (2)</a></li><li><a href='/blog/categories/cmake'>cmake (2)</a></li><li><a href='/blog/categories/cscope'>cscope (1)</a></li><li><a href='/blog/categories/ctags'>ctags (1)</a></li><li><a href='/blog/categories/dbdoclet'>dbdoclet (1)</a></li><li><a href='/blog/categories/debian'>debian (16)</a></li><li><a href='/blog/categories/debootstrap'>debootstrap (1)</a></li><li><a href='/blog/categories/debug'>debug (1)</a></li><li><a href='/blog/categories/doxygen'>doxygen (1)</a></li><li><a href='/blog/categories/elf'>elf (1)</a></li><li><a href='/blog/categories/f9'>f9 (1)</a></li><li><a href='/blog/categories/free-software'>free software (1)</a></li><li><a href='/blog/categories/freertos'>freertos (1)</a></li><li><a href='/blog/categories/fsf'>fsf (1)</a></li><li><a href='/blog/categories/gcc'>gcc (2)</a></li><li><a href='/blog/categories/gdb'>gdb (4)</a></li><li><a href='/blog/categories/getopt'>getopt (1)</a></li><li><a href='/blog/categories/gettext'>gettext (2)</a></li><li><a href='/blog/categories/git'>git (4)</a></li><li><a href='/blog/categories/git-remote'>git remote (2)</a></li><li><a href='/blog/categories/github-flavored-markdown'>github flavored markdown (1)</a></li><li><a href='/blog/categories/github-pages'>github pages (1)</a></li><li><a href='/blog/categories/gnu'>gnu (2)</a></li><li><a href='/blog/categories/gnu-as'>gnu as (1)</a></li><li><a href='/blog/categories/gpl'>gpl (1)</a></li><li><a href='/blog/categories/gstreamer'>gstreamer (1)</a></li><li><a href='/blog/categories/hole'>hole (1)</a></li><li><a href='/blog/categories/inline'>inline (1)</a></li><li><a href='/blog/categories/javadoc'>javadoc (2)</a></li><li><a href='/blog/categories/kernel'>kernel (1)</a></li><li><a href='/blog/categories/ld'>ld (1)</a></li><li><a href='/blog/categories/libtool'>libtool (2)</a></li><li><a href='/blog/categories/linker'>linker (1)</a></li><li><a href='/blog/categories/linker-script'>linker script (5)</a></li><li><a href='/blog/categories/linux'>linux (41)</a></li><li><a href='/blog/categories/linux-kernel'>linux kernel (3)</a></li><li><a href='/blog/categories/linux-utilities'>linux utilities (2)</a></li><li><a href='/blog/categories/live-cd'>live cd (1)</a></li><li><a href='/blog/categories/lseek'>lseek (1)</a></li><li><a href='/blog/categories/macro'>macro (1)</a></li><li><a href='/blog/categories/make'>make (6)</a></li><li><a href='/blog/categories/markdown'>markdown (2)</a></li><li><a href='/blog/categories/octopress'>octopress (9)</a></li><li><a href='/blog/categories/osm'>osm (1)</a></li><li><a href='/blog/categories/patch'>patch (1)</a></li><li><a href='/blog/categories/pbuilder'>pbuilder (2)</a></li><li><a href='/blog/categories/pomodoro-technique'>pomodoro technique (1)</a></li><li><a href='/blog/categories/presentation'>presentation (14)</a></li><li><a href='/blog/categories/python'>python (4)</a></li><li><a href='/blog/categories/qemu'>qemu (5)</a></li><li><a href='/blog/categories/quilt'>quilt (1)</a></li><li><a href='/blog/categories/regex'>regex (2)</a></li><li><a href='/blog/categories/rtenv'>rtenv (1)</a></li><li><a href='/blog/categories/rtos'>rtos (1)</a></li><li><a href='/blog/categories/semihosting'>semihosting (1)</a></li><li><a href='/blog/categories/shell-script'>shell script (4)</a></li><li><a href='/blog/categories/software-development'>software development (1)</a></li><li><a href='/blog/categories/stm32'>stm32 (5)</a></li><li><a href='/blog/categories/strip'>strip (1)</a></li><li><a href='/blog/categories/trace'>trace (1)</a></li><li><a href='/blog/categories/ubuntu'>ubuntu (1)</a></li><li><a href='/blog/categories/upnp'>upnp (1)</a></li><li><a href='/blog/categories/usb'>usb (1)</a></li><li><a href='/blog/categories/valgrind'>valgrind (2)</a></li><li><a href='/blog/categories/vim'>vim (5)</a></li><li><a href='/blog/categories/vim-plugin'>vim plugin (1)</a></li><li><a href='/blog/categories/virtualbox'>virtualbox (2)</a></li><li><a href='/blog/categories/vundle'>vundle (1)</a></li><li><a href='/blog/categories/wireless'>wireless (1)</a></li><li><a href='/blog/categories/wpa-supplicant'>wpa_supplicant (1)</a></li><li><a href='/blog/categories/tai-wan-xiao-chi'>台灣小吃 (1)</a></li><li><a href='/blog/categories/gan-xiang'>感想 (8)</a></li><li><a href='/blog/categories/kuang-rou'>爌肉 (1)</a></li><li><a href='/blog/categories/bi-ji'>筆記 (2)</a></li><li><a href='/blog/categories/zu-zhuang'>組裝 (3)</a></li><li><a href='/blog/categories/lao-jian-zhu'>老建築 (3)</a></li><li><a href='/blog/categories/guo-qi'>過期 (3)</a></li></ul>
</section>
<section>
  <h1>Category Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/arm' style='font-size: 117.5609756097561%'>arm(12)</a> <a href='/blog/categories/asm' style='font-size: 101.46341463414635%'>asm(1)</a> <a href='/blog/categories/assembler' style='font-size: 102.92682926829268%'>assembler(2)</a> <a href='/blog/categories/assembly' style='font-size: 104.39024390243902%'>assembly(3)</a> <a href='/blog/categories/autotools' style='font-size: 105.85365853658537%'>autotools(4)</a> <a href='/blog/categories/banana-pi' style='font-size: 101.46341463414635%'>banana pi(1)</a> <a href='/blog/categories/bash' style='font-size: 101.46341463414635%'>bash(1)</a> <a href='/blog/categories/binutil' style='font-size: 101.46341463414635%'>binutil(1)</a> <a href='/blog/categories/binutils' style='font-size: 120.48780487804878%'>binutils(14)</a> <a href='/blog/categories/buildroot' style='font-size: 102.92682926829268%'>buildroot(2)</a> <a href='/blog/categories/c' style='font-size: 146.8292682926829%'>c(32)</a> <a href='/blog/categories/c-preprocessor' style='font-size: 101.46341463414635%'>c preprocessor(1)</a> <a href='/blog/categories/c99' style='font-size: 102.92682926829268%'>c99(2)</a> <a href='/blog/categories/cmake' style='font-size: 102.92682926829268%'>cmake(2)</a> <a href='/blog/categories/cscope' style='font-size: 101.46341463414635%'>cscope(1)</a> <a href='/blog/categories/ctags' style='font-size: 101.46341463414635%'>ctags(1)</a> <a href='/blog/categories/dbdoclet' style='font-size: 101.46341463414635%'>dbdoclet(1)</a> <a href='/blog/categories/debian' style='font-size: 123.41463414634146%'>debian(16)</a> <a href='/blog/categories/debootstrap' style='font-size: 101.46341463414635%'>debootstrap(1)</a> <a href='/blog/categories/debug' style='font-size: 101.46341463414635%'>debug(1)</a> <a href='/blog/categories/doxygen' style='font-size: 101.46341463414635%'>doxygen(1)</a> <a href='/blog/categories/elf' style='font-size: 101.46341463414635%'>elf(1)</a> <a href='/blog/categories/f9' style='font-size: 101.46341463414635%'>f9(1)</a> <a href='/blog/categories/free-software' style='font-size: 101.46341463414635%'>free software(1)</a> <a href='/blog/categories/freertos' style='font-size: 101.46341463414635%'>freertos(1)</a> <a href='/blog/categories/fsf' style='font-size: 101.46341463414635%'>fsf(1)</a> <a href='/blog/categories/gcc' style='font-size: 102.92682926829268%'>gcc(2)</a> <a href='/blog/categories/gdb' style='font-size: 105.85365853658537%'>gdb(4)</a> <a href='/blog/categories/getopt' style='font-size: 101.46341463414635%'>getopt(1)</a> <a href='/blog/categories/gettext' style='font-size: 102.92682926829268%'>gettext(2)</a> <a href='/blog/categories/git' style='font-size: 105.85365853658537%'>git(4)</a> <a href='/blog/categories/git-remote' style='font-size: 102.92682926829268%'>git remote(2)</a> <a href='/blog/categories/github-flavored-markdown' style='font-size: 101.46341463414635%'>github flavored markdown(1)</a> <a href='/blog/categories/github-pages' style='font-size: 101.46341463414635%'>github pages(1)</a> <a href='/blog/categories/gnu' style='font-size: 102.92682926829268%'>gnu(2)</a> <a href='/blog/categories/gnu-as' style='font-size: 101.46341463414635%'>gnu as(1)</a> <a href='/blog/categories/gpl' style='font-size: 101.46341463414635%'>gpl(1)</a> <a href='/blog/categories/gstreamer' style='font-size: 101.46341463414635%'>gstreamer(1)</a> <a href='/blog/categories/hole' style='font-size: 101.46341463414635%'>hole(1)</a> <a href='/blog/categories/inline' style='font-size: 101.46341463414635%'>inline(1)</a> <a href='/blog/categories/javadoc' style='font-size: 102.92682926829268%'>javadoc(2)</a> <a href='/blog/categories/kernel' style='font-size: 101.46341463414635%'>kernel(1)</a> <a href='/blog/categories/ld' style='font-size: 101.46341463414635%'>ld(1)</a> <a href='/blog/categories/libtool' style='font-size: 102.92682926829268%'>libtool(2)</a> <a href='/blog/categories/linker' style='font-size: 101.46341463414635%'>linker(1)</a> <a href='/blog/categories/linker-script' style='font-size: 107.3170731707317%'>linker script(5)</a> <a href='/blog/categories/linux' style='font-size: 160.0%'>linux(41)</a> <a href='/blog/categories/linux-kernel' style='font-size: 104.39024390243902%'>linux kernel(3)</a> <a href='/blog/categories/linux-utilities' style='font-size: 102.92682926829268%'>linux utilities(2)</a> <a href='/blog/categories/live-cd' style='font-size: 101.46341463414635%'>live cd(1)</a> <a href='/blog/categories/lseek' style='font-size: 101.46341463414635%'>lseek(1)</a> <a href='/blog/categories/macro' style='font-size: 101.46341463414635%'>macro(1)</a> <a href='/blog/categories/make' style='font-size: 108.78048780487805%'>make(6)</a> <a href='/blog/categories/markdown' style='font-size: 102.92682926829268%'>markdown(2)</a> <a href='/blog/categories/octopress' style='font-size: 113.17073170731707%'>octopress(9)</a> <a href='/blog/categories/osm' style='font-size: 101.46341463414635%'>osm(1)</a> <a href='/blog/categories/patch' style='font-size: 101.46341463414635%'>patch(1)</a> <a href='/blog/categories/pbuilder' style='font-size: 102.92682926829268%'>pbuilder(2)</a> <a href='/blog/categories/pomodoro-technique' style='font-size: 101.46341463414635%'>pomodoro technique(1)</a> <a href='/blog/categories/presentation' style='font-size: 120.48780487804878%'>presentation(14)</a> <a href='/blog/categories/python' style='font-size: 105.85365853658537%'>python(4)</a> <a href='/blog/categories/qemu' style='font-size: 107.3170731707317%'>qemu(5)</a> <a href='/blog/categories/quilt' style='font-size: 101.46341463414635%'>quilt(1)</a> <a href='/blog/categories/regex' style='font-size: 102.92682926829268%'>regex(2)</a> <a href='/blog/categories/rtenv' style='font-size: 101.46341463414635%'>rtenv(1)</a> <a href='/blog/categories/rtos' style='font-size: 101.46341463414635%'>rtos(1)</a> <a href='/blog/categories/semihosting' style='font-size: 101.46341463414635%'>semihosting(1)</a> <a href='/blog/categories/shell-script' style='font-size: 105.85365853658537%'>shell script(4)</a> <a href='/blog/categories/software-development' style='font-size: 101.46341463414635%'>software development(1)</a> <a href='/blog/categories/stm32' style='font-size: 107.3170731707317%'>stm32(5)</a> <a href='/blog/categories/strip' style='font-size: 101.46341463414635%'>strip(1)</a> <a href='/blog/categories/trace' style='font-size: 101.46341463414635%'>trace(1)</a> <a href='/blog/categories/ubuntu' style='font-size: 101.46341463414635%'>ubuntu(1)</a> <a href='/blog/categories/upnp' style='font-size: 101.46341463414635%'>upnp(1)</a> <a href='/blog/categories/usb' style='font-size: 101.46341463414635%'>usb(1)</a> <a href='/blog/categories/valgrind' style='font-size: 102.92682926829268%'>valgrind(2)</a> <a href='/blog/categories/vim' style='font-size: 107.3170731707317%'>vim(5)</a> <a href='/blog/categories/vim-plugin' style='font-size: 101.46341463414635%'>vim plugin(1)</a> <a href='/blog/categories/virtualbox' style='font-size: 102.92682926829268%'>virtualbox(2)</a> <a href='/blog/categories/vundle' style='font-size: 101.46341463414635%'>vundle(1)</a> <a href='/blog/categories/wireless' style='font-size: 101.46341463414635%'>wireless(1)</a> <a href='/blog/categories/wpa-supplicant' style='font-size: 101.46341463414635%'>wpa_supplicant(1)</a> <a href='/blog/categories/tai-wan-xiao-chi' style='font-size: 101.46341463414635%'>台灣小吃(1)</a> <a href='/blog/categories/gan-xiang' style='font-size: 111.70731707317073%'>感想(8)</a> <a href='/blog/categories/kuang-rou' style='font-size: 101.46341463414635%'>爌肉(1)</a> <a href='/blog/categories/bi-ji' style='font-size: 102.92682926829268%'>筆記(2)</a> <a href='/blog/categories/zu-zhuang' style='font-size: 104.39024390243902%'>組裝(3)</a> <a href='/blog/categories/lao-jian-zhu' style='font-size: 104.39024390243902%'>老建築(3)</a> <a href='/blog/categories/guo-qi' style='font-size: 104.39024390243902%'>過期(3)</a> </span>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.<br>
  Copyright &copy; 2019 - Wen Liao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'httpwen00072githubio';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
